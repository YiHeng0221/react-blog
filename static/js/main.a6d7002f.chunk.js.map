{"version":3,"sources":["utils/contexts.js","utils/auth.js","RWD/RWD.js","components/Navbar/Burger/Burger.js","utils/useRWD.js","components/Navbar/Navbar.js","components/Loading/Loading.js","components/PostInfoCard/PostInfoCard.js","components/Preview/Preview.js","utils/WebAPI.js","pages/HomePage/HomePage.js","pages/Login/Login.js","pages/Post/Post.js","pages/NewPost/NewPost.js","pages/Posts/Posts.js","pages/Board/Board.js","pages/Register/Register.js","components/Footer/Footer.js","App/App.js","index.js"],"names":["AuthContext","createContext","PreviewContext","LoadingContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","MEDIA_QUERY_MD","MEDIA_QUERY_SM","BurgerStyle","styled","button","open","BurgerWrapper","div","MenuBtns","MenuBtn","Link","MenuLoginBtn","Menu","location","useLocation","useContext","user","setUser","history","useHistory","to","$active","pathname","onClick","push","Burger","useState","setOpen","useRWD","device","setDevice","handleRWD","window","innerWidth","useEffect","addEventListener","removeEventListener","Nav","NavBtns","Title","NavBtn","props","LoginBtn","Navbar","Loader","animation","keyframes","LoadingAnimation","Loading","PostContainer","PostTitle","PostInfo","PostDate","LinkStyle","textDecoration","SmallPostWrapper","SmallPostTitle","DeleteButton","SmallPostInfoCard","post","handleDeletePost","id","title","userId","PostInfoCard","style","Date","createdAt","toLocaleString","a","ArticleContent","Preview","newPostTitle","newPostBody","time","BASE_URL","getPosts","num","fetch","then","res","json","getSinglePost","fetchAPI","jsonData","getMe","headers","authorization","getComments","HomePage","posts","setPosts","isLoading","setIsLoading","map","propTypes","PropTypes","object","LoginContainer","LoginForm","form","Input","SubmitButton","BTNGroup","ToRegister","ErrorMsg","Login","username","setUsername","password","setPassword","errorMsg","setErrorMsg","onSubmit","e","method","body","JSON","stringify","login","data","ok","message","toString","value","onChange","target","type","PostClassify","Post","setPost","useParams","runGetSinglePost","PostForm","NewPostTitle","input","NewPostBody","textarea","NewPostBTNs","NewPostSubmit","NewPostPreview","PreviewBackground","NewPost","setNewPostTitle","setNewPostBody","handleFocus","previewClick","setPreviewClick","Promise","resolve","setTimeout","Provider","preventDefault","addNewPost","catch","err","placeholder","onFocus","rows","Posts","deletePost","console","log","BoardForm","BoardListContainer","BoardNickname","BoardTextarea","BoardSubmitButton","Comment","CommentBody","CommentAvatar","CommentUserInfo","CommentInfo","CommentDate","span","CommentContent","p","ErrorMessage","Comments","comment","nickname","Board","comments","setComments","CommentApiErr","setCommentApiErr","setComment","setNickname","createCommentErr","setCreateCommentErr","handleInputFocus","isSubscribe","addNewComment","length","RegisterContainer","RegisterForm","register","FooterContainer","FooterWrapper","FooterText","Footer","href","Root","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gMAEaA,EAAcC,wBAAc,MAC5BC,EAAiBD,wBAAc,MAC/BE,EAAiBF,wBAAc,MCJtCG,EAAa,QAENC,EAAe,SAACC,GAC3BC,aAAaC,QAAQJ,EAAYE,IAGtBG,EAAe,WAC1B,OAAOF,aAAaG,QAAQN,ICNjBO,EAAiB,uCACjBC,EAAiB,uC,OCIxBC,EAAcC,IAAOC,OAAV,krBAyBE,qBAAGC,KAAmB,gBAAkB,eAI1C,qBAAGA,KAAmB,IAAM,OAC1B,qBAAGA,KAAmB,mBAAqB,mBAI3C,qBAAGA,KAAmB,iBAAmB,eAKtDC,EAAgBH,IAAOI,IAAV,4CAIbC,EAAWL,IAAOI,IAAV,oIAORE,EAAUN,YAAOO,IAAPP,CAAH,sYAoBPQ,EAAeR,IAAOI,IAAV,yFAMZK,EAAO,WACX,IAAMC,EAAWC,cADA,EAESC,qBAAW1B,GAA7B2B,EAFS,EAETA,KAAMC,EAFG,EAEHA,QACRC,EAAUC,cAQhB,OACE,eAACX,EAAD,WACE,cAACC,EAAD,CAASW,GAAG,SAASC,QAA+B,WAAtBR,EAASS,SAAvC,sCAGCN,GACC,cAACP,EAAD,CAASW,GAAG,WAAWC,QAA+B,aAAtBR,EAASS,SAAzC,sCAIF,cAACb,EAAD,CAASW,GAAG,SAASC,QAA+B,WAAtBR,EAASS,SAAvC,iCAIEN,GACA,eAACL,EAAD,WACE,cAACF,EAAD,CAASW,GAAG,SAASC,QAA+B,WAAtBR,EAASS,SAAvC,0BAGA,cAACb,EAAD,CAASW,GAAG,YAAYC,QAA+B,cAAtBR,EAASS,SAA1C,6BAKHN,GACC,cAACL,EAAD,UACE,cAACF,EAAD,CAASW,GAAG,IAAIG,QAjCH,WACnB7B,EAAa,IACbuB,EAAQ,MACkB,MAAtBJ,EAASS,UACXJ,EAAQM,KAAK,MA6BT,gCASK,SAASC,IAAU,IAAD,EACPC,oBAAS,GADF,mBACxBrB,EADwB,KAClBsB,EADkB,KAK/B,OACE,eAACrB,EAAD,WACE,eAACJ,EAAD,CAAaqB,QALE,WACjBI,GAAStB,IAI2BA,KAAMA,EAAxC,UACE,wBACA,wBACA,2BAEDA,GAAQ,cAAC,EAAD,OC1If,I,gBAiBeuB,EAjBA,WAAO,IAAD,EACSF,mBAAS,IADlB,mBACZG,EADY,KACJC,EADI,KAEbC,EAAY,WACZC,OAAOC,WAAa,IAAKH,EAAU,MAC9BE,OAAOC,WAAa,IAAKH,EAAU,UACvCA,EAAU,WASjB,OAPAI,qBAAU,WAGR,OAFAF,OAAOG,iBAAiB,SAAUJ,GAClCA,IACO,WACLC,OAAOI,oBAAoB,SAAUL,MAEtC,IACIF,GCPHQ,EAAMlC,IAAOI,IAAV,kcAWLP,EAMAC,GAMEqC,EAAUnC,IAAOI,IAAV,6IAITP,GAIEuC,EAAQpC,YAAOO,IAAPP,CAAH,6KASLqC,EAASrC,YAAOO,IAAPP,CAAH,gVAgBR,SAACsC,GAAD,OACAA,EAAMpB,SAAN,kCAKEqB,EAAWvC,IAAOI,IAAV,qHAOC,SAASoC,IACtB,IAAM9B,EAAWC,cADc,EAELC,qBAAW1B,GAA7B2B,EAFuB,EAEvBA,KAAMC,EAFiB,EAEjBA,QACRC,EAAUC,cASVU,EAASD,IAEf,OACE,eAACS,EAAD,WACE,cAACE,EAAD,CAAOnB,GAAG,IAAV,yBACY,WAAXS,GAAuB,cAACJ,EAAD,KACX,WAAXI,GAAkC,OAAXA,IACvB,eAACS,EAAD,WACE,cAACE,EAAD,CAAQpB,GAAG,SAASC,QAA+B,WAAtBR,EAASS,SAAtC,sCAGCN,GACC,cAACwB,EAAD,CAAQpB,GAAG,WAAWC,QAA+B,aAAtBR,EAASS,SAAxC,sCAIF,cAACkB,EAAD,CAAQpB,GAAG,SAASC,QAA+B,WAAtBR,EAASS,SAAtC,gCAIA,iCACIN,GACA,eAAC0B,EAAD,WACE,cAACF,EAAD,CAAQpB,GAAG,SAASC,QAA+B,WAAtBR,EAASS,SAAtC,0BAGA,cAACkB,EAAD,CACEpB,GAAG,YACHC,QAA+B,cAAtBR,EAASS,SAFpB,6BAQHN,GACC,cAAC0B,EAAD,UACE,cAACF,EAAD,CAAQpB,GAAG,IAAIG,QA5CR,WACnB7B,EAAa,IACbuB,EAAQ,MACkB,MAAtBJ,EAASS,UACXJ,EAAQM,KAAK,MAwCH,qCC5HhB,I,eAAMoB,GAASzC,IAAOI,IAAV,+PAeNsC,GAAYC,YAAH,wTAgBTC,GAAmB5C,IAAOI,IAAV,wkCAGPsC,IAsDA,SAASG,KACtB,OACE,cAACJ,GAAD,UACE,cAACG,GAAD,UACE,4BCxFR,IAAME,GAAgB9C,IAAOI,IAAV,6XAiBb2C,GAAY/C,IAAOI,IAAV,oRAWXP,GAKEmD,GAAWhD,IAAOI,IAAV,mIAIVP,GAIEoD,GAAWjD,IAAOI,IAAV,+CAIR8C,GAAY,CAChBC,eAAgB,QAEZC,GAAmBpD,IAAOI,IAAV,yGAKhBiD,GAAiBrD,YAAOO,IAAPP,CAAH,wQAUhBH,GAIEyD,GAAetD,IAAOI,IAAV,4SAYdP,GAKG,SAAS0D,GAAT,GAAwD,IAA3BC,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,iBAChC5C,EAASD,qBAAW1B,GAApB2B,KACR,OACE,cAACiC,GAAD,UACE,eAACM,GAAD,WACE,cAACC,GAAD,CAAgBpC,GAAE,gBAAWuC,EAAKE,IAAlC,SAAyCF,EAAKG,QAC7C9C,GAAQA,EAAK6C,KAAOF,EAAKI,QACxB,cAACN,GAAD,CAAclC,QAAS,kBAAMqC,EAAiBD,EAAKE,KAAnD,8BAJcF,EAAKE,IAatB,SAASG,GAAT,GAAiC,IAATL,EAAQ,EAARA,KAC7B,OACE,cAACV,GAAD,UACE,eAAC,IAAD,CAAM7B,GAAE,gBAAWuC,EAAKE,IAAMI,MAAOZ,GAArC,UACE,cAACH,GAAD,UAAYS,EAAKG,QACjB,cAACX,GAAD,UACE,cAACC,GAAD,UAAW,IAAIc,KAAKP,EAAKQ,WAAWC,yBAJtBT,EAAKE,I,sCCvGvBZ,GAAgB9C,IAAOI,IAAV,0UAcb2C,GAAY/C,IAAOI,IAAV,kPAaT4C,GAAWhD,IAAOI,IAAV,iGAKR6C,GAAWjD,IAAOkE,EAAV,iDAGRC,GAAiBnE,IAAOI,IAAV,mDAIL,SAASgE,KAAW,IAAD,EACMxD,qBAAWxB,GAAzCiF,EADwB,EACxBA,aAAcC,EADU,EACVA,YAChBC,GAAO,IAAIR,MAAOE,iBAExB,OACE,cAAC,KAAD,UACE,eAAC,GAAD,WACE,cAAC,GAAD,UAAYI,IACZ,cAAC,GAAD,UACE,cAAC,GAAD,UAAWE,MAEb,cAACJ,GAAD,UAAiBG,S,sDCrDnBE,GAAW,qCAGJC,GAAW,SAACC,GACvB,OAAIA,EACKC,MAAM,GAAD,OACPH,GADO,qDAC8CE,IACxDE,MAAK,SAACC,GAAD,OAASA,EAAIC,UAEfH,MAAM,GAAD,OAAIH,GAAJ,uCAAkDI,MAAK,SAACC,GAAD,OACjEA,EAAIC,WAIKC,GAAa,yCAAG,WAAOrB,GAAP,kBAAAQ,EAAA,sEACJS,MAAM,GAAD,OAAIH,GAAJ,qBAAyBd,IAD1B,cACrBsB,EADqB,gBAEJA,EAASF,OAFL,cAErBG,EAFqB,yBAGpBA,GAHoB,2CAAH,sDAMbC,GAAQ,WACnB,IAAM1F,EAAQG,IACd,OAAOgF,MAAM,GAAD,OAAIH,GAAJ,OAAmB,CAC7BW,QAAS,CACPC,cAAc,UAAD,OAAY5F,MAE1BoF,MAAK,SAACC,GAAD,OAASA,EAAIC,WAuEVO,GAAc,WACzB,OAAOV,MAAM,GAAD,OAAIH,GAAJ,0CAAqDI,MAAK,SAACC,GAAD,OACpEA,EAAIC,W,oBC1FO,SAASQ,KAAY,IAAD,EACP/D,mBAAS,IADF,mBAC1BgE,EAD0B,KACnBC,EADmB,OAEG5E,qBAAWvB,GAAvCoG,EAFyB,EAEzBA,UAAWC,EAFc,EAEdA,aAanB,OAXA3D,qBAAU,WACR2D,GAAa,GACbjB,GAAS,GACNG,MAAK,SAACW,GACLC,EAASD,MAEVX,MAAK,WACJc,GAAa,QAEhB,CAACA,IAGF,eAAC,KAAD,WACGD,GAAa,cAAC5C,GAAD,IACb0C,EAAMI,KAAI,SAACnC,GAAD,OACT,cAACK,GAAD,CAAcL,KAAMA,GAAWA,EAAKE,UAvB5CG,GAAa+B,UAAY,CACvBpC,KAAMqC,KAAUC,QCAlB,I,kBAAMC,GAAiB/F,IAAOI,IAAV,4OAUd4F,GAAYhG,IAAOiG,KAAV,iHAMTC,GAAQlG,IAAOI,IAAV,wJASL+F,GAAenG,IAAOC,OAAV,oXAmBZmG,GAAWpG,IAAOI,IAAV,2IAORiG,GAAarG,YAAOO,IAAPP,CAAH,sbAuBVsG,GAAWtG,IAAOkE,EAAV,uFAMC,SAASqC,KAAS,IACvBzF,EAAYF,qBAAW1B,GAAvB4B,QADsB,EAEES,mBAAS,IAFX,mBAEvBiF,EAFuB,KAEbC,EAFa,OAGElF,mBAAS,IAHX,mBAGvBmF,EAHuB,KAGbC,EAHa,OAIEpF,qBAJF,mBAIvBqF,EAJuB,KAIbC,EAJa,KAKxB9F,EAAUC,cAkBhB,OACE,cAAC,KAAD,UACE,cAAC+E,GAAD,UACE,eAACC,GAAD,CAAWc,SApBI,SAACC,GACpBF,EAAY,MF/DK,SAACL,EAAUE,GAC9B,OAAO/B,MAAM,GAAD,OAAIH,GAAJ,UAAsB,CAChCwC,OAAQ,OACR7B,QAAS,CACP,eAAgB,oBAElB8B,KAAMC,KAAKC,UAAU,CACnBX,WACAE,eAED9B,MAAK,SAACC,GAAD,OAASA,EAAIC,UEsDnBsC,CAAMZ,EAAUE,GAAU9B,MAAK,SAACyC,GAC9B,GAAgB,IAAZA,EAAKC,GACP,OAAOT,EAAYQ,EAAKE,SAE1BhI,EAAa8H,EAAK7H,OAClB0F,KAAQN,MAAK,SAACC,GACZ,GAAe,IAAXA,EAAIyC,GAEN,OADA/H,EAAa,MACNsH,EAAYhC,EAAI2C,YAEzB1G,EAAQ+D,EAAIwC,MACZtG,EAAQM,KAAK,YAOb,UACE,eAAC6E,GAAD,gCAEE,uBACEuB,MAAOjB,EACPkB,SAAU,SAACX,GAAD,OAAON,EAAYM,EAAEY,OAAOF,aAG1C,eAACvB,GAAD,gCAEE,uBACE0B,KAAK,WACLH,MAAOf,EACPgB,SAAU,SAACX,GAAD,OAAOJ,EAAYI,EAAEY,OAAOF,aAGzCb,GAAY,cAACN,GAAD,UAAWM,IACxB,eAACR,GAAD,WACE,cAACC,GAAD,CAAYpF,GAAG,YAAf,0BACA,cAACkF,GAAD,CAAcyB,KAAK,SAAnB,oCC/HZ,I,2BAAMzD,GAAiBnE,IAAOI,IAAV,mDAId0C,GAAgB9C,IAAOI,IAAV,iOASb2C,GAAY/C,IAAOI,IAAV,kPAaT4C,GAAWhD,IAAOI,IAAV,iGAKR6C,GAAWjD,IAAOkE,EAAV,iDAGR2D,GAAe7H,IAAOkE,EAAV,iDAIH,SAAS4D,KAAQ,IAAD,EACLvG,mBAAS,IADJ,mBACtBiC,EADsB,KAChBuE,EADgB,KAErBrE,EAAOsE,cAAPtE,GAUR,OARA3B,qBAAU,WAAM,8CACd,6BAAAmC,EAAA,sEACqBa,GAAcrB,GADnC,OACQ2D,EADR,OAEEU,EAAQV,GAFV,4CADc,uBAAC,WAAD,wBAKdY,KACC,CAACvE,IAGF,cAAC,KAAD,UACGF,EAAKmC,KAAI,SAACnC,GAAD,OACR,eAAC,GAAD,WACE,cAAC,GAAD,UAAYA,GAAQA,EAAKG,QACzB,eAAC,GAAD,WACE,cAAC,GAAD,UACGH,GAAQ,IAAIO,KAAKP,EAAKQ,WAAWC,mBAEpC,cAAC4D,GAAD,OAEF,cAAC,GAAD,UAAiBrE,GAAQA,EAAKyD,SARZvD,QClD5B,I,uCAAMwE,GAAWlI,IAAOiG,KAAV,6WAeR7D,GAAQpC,IAAOI,IAAV,6FAMLkG,GAAWtG,IAAOI,IAAV,iTAiBR+H,GAAenI,IAAOoI,MAAV,kFAKZC,GAAcrI,IAAOsI,SAAV,kEAKXC,GAAcvI,IAAOI,IAAV,4FAKXoI,GAAgBxI,IAAOC,OAAV,oXAmBbwI,GAAiBzI,IAAOI,IAAV,2YAoBdsI,GAAoB1I,IAAOI,IAAV,kRAmBR,SAASuI,KAAW,IAAD,EACQpH,mBAAS,IADjB,mBACzB8C,EADyB,KACXuE,EADW,OAEMrH,mBAAS,IAFf,mBAEzB+C,EAFyB,KAEZuE,EAFY,OAGAtH,qBAHA,mBAGzBqF,EAHyB,KAGfC,EAHe,OAIIjG,qBAAWvB,GAAvCoG,EAJwB,EAIxBA,UAAWC,EAJa,EAIbA,aACb3E,EAAUC,cAUV8H,EAAc,WAClBjC,EAAY,OAhBkB,EAkCQtF,oBAAS,GAlCjB,mBAkCzBwH,EAlCyB,KAkCXC,EAlCW,KA2C1BxJ,EAAQG,IASd,OARAoC,qBAAU,WAhDZ,IAAewC,EAiDN/E,IAjDM+E,EAkDH,IAjDH,IAAI0E,SAAQ,SAACC,GAAD,OAAaC,WAAWD,EAAS3E,OAiDpCK,MAAK,WACf7D,EAAQM,KAAK,WAKd7B,EAUH,eAAC,KAAD,WACGiG,GAAa,cAAC5C,GAAD,IACd,cAACzD,EAAegK,SAAhB,CAAyB3B,MAAO,CAAEpD,eAAcC,eAAhD,SACGyE,GACC,cAACL,GAAD,CAAmBtH,QA5BC,WAC1B4H,GAAgB,IA2BV,SACE,cAAC5E,GAAD,QAIN,eAAC8D,GAAD,CAAUpB,SApDO,SAACC,GACpBA,EAAEsC,iBACF3D,GAAa,GJhGS,SAAC/B,EAAOsD,GAChC,IAAMzH,EAAQG,IACd,OAAOgF,MAAM,GAAD,OAAIH,GAAJ,UAAsB,CAChCwC,OAAQ,OACR7B,QAAS,CACPC,cAAc,UAAD,OAAY5F,GACzB,eAAgB,oBAElByH,KAAMC,KAAKC,UAAU,CACnBxD,QACAsD,WAEDrC,MAAK,SAACC,GAAD,OAASA,EAAIC,UIqFnBwE,CAAWjF,EAAcC,GACtBM,MAAK,SAACC,GAEL,GADAa,GAAa,GACE,IAAXb,EAAIyC,GAAU,OAAOT,EAAYhC,EAAI0C,SACzCxG,EAAQM,KAAK,QAEdkI,OAAM,SAACC,GACN3C,EAAY2C,EAAIjC,aA0ClB,UACE,cAAC,GAAD,uCACA,cAACY,GAAD,CACEV,MAAOpD,EACPoF,YAAa7C,GAAsB,iCACnCc,SArEkB,SAACX,GACzB6B,EAAgB7B,EAAEY,OAAOF,QAqEnBiC,QAASZ,IAEX,cAACT,GAAD,CACEZ,MAAOnD,EACPqF,KAAM,GACNF,YAAa7C,GAAsB,iCACnCc,SAxEiB,SAACX,GACxB8B,EAAe9B,EAAEY,OAAOF,QAwElBiC,QAASZ,IAEX,eAACP,GAAD,WACE,cAACC,GAAD,UAAgB/C,EAAY,qBAAQ,iBACpC,cAACgD,GAAD,CAAgBrH,QArDG,WACzB4H,GAAgB,IAoDV,mCAlCJ,eAAC,GAAD,WACE,yFACA,sFCrKO,SAASY,KAAS,IAAD,EACJrI,mBAAS,IADL,mBACvBgE,EADuB,KAChBC,EADgB,OAEM5E,qBAAWvB,GAAvCoG,EAFsB,EAEtBA,UAAWC,EAFW,EAEXA,aAEnB3D,qBAAU,WACR2D,GAAa,GACbjB,KACGG,MAAK,SAACW,GAAD,OAAWC,EAASD,MACzBX,MAAK,WACJc,GAAa,QAEhB,CAACA,IAEJ,IAAMjC,EAAmB,SAACC,ILsCF,SAACA,GACzB,OAAOiB,MAAM,GAAD,OAAIH,GAAJ,kBAAsBd,GAAM,CACtCsD,OAAQ,WACPpC,MAAK,SAACC,GAAD,OAASA,EAAIC,WKxCnB+E,CAAWnG,GACRkB,MAAK,WACJH,KAAWG,MAAK,SAACW,GAAD,OAAWC,EAASD,SAErCgE,OAAM,SAACC,GACNM,QAAQC,IAAIP,MAEb5E,KAAKc,GAAa,KAGvB,OACE,eAAC,KAAD,WACGD,GAAa,cAAC5C,GAAD,IACb0C,EAAMI,KAAI,SAACnC,GAAD,OACT,cAACD,GAAD,CACEC,KAAMA,EAENC,iBAAkBA,GADbD,EAAKE,UAlCpBH,GAAkBqC,UAAY,CAC5BpC,KAAMqC,KAAUC,QCAlB,I,eAAMkE,GAAYhK,IAAOiG,KAAV,2UAcTgE,GAAqBjK,IAAOI,IAAV,4BAClB8J,GAAgBlK,IAAOoI,MAAV,yPAab+B,GAAgBnK,IAAOsI,SAAV,sRAcb8B,GAAoBpK,IAAOC,OAAV,2XAmBjBoK,GAAUrK,IAAOI,IAAV,oXAcTP,GAKEyK,GAActK,IAAOI,IAAV,qGAKXmK,GAAgBvK,IAAOI,IAAV,2PAMfP,GASE2K,GAAkBxK,IAAOI,IAAV,8KAUfqK,GAAczK,IAAOI,IAAV,gDAIXsK,GAAc1K,IAAO2K,KAAV,iHAMXC,GAAiB5K,IAAO6K,EAAV,qGAMdC,GAAe9K,IAAOI,IAAV,6DAKlB,SAAS2K,GAAT,GAAgC,IAAZC,EAAW,EAAXA,QAClB,OACE,cAAC,KAAD,UACE,eAACX,GAAD,WACE,cAACE,GAAD,IACA,eAACD,GAAD,WACE,eAACG,GAAD,WACE,cAACD,GAAD,UAAkBQ,EAAQC,WAC1B,cAACP,GAAD,UACG,IAAI3G,KAAKiH,EAAQhH,WAAWC,sBAGjC,cAAC2G,GAAD,UAAiBI,EAAQ/D,eAOpB,SAASiE,KAAS,IAAD,EACE3J,mBAAS,MADX,mBACvB4J,EADuB,KACbC,EADa,OAEY7J,mBAAS,MAFrB,mBAEvB8J,EAFuB,KAERC,EAFQ,OAGA/J,mBAAS,IAHT,mBAGvByJ,EAHuB,KAGdO,EAHc,OAIEhK,mBAAS,IAJX,mBAIvB0J,EAJuB,KAIbO,EAJa,OAKkBjK,mBAAS,MAL3B,mBAKvBkK,EALuB,KAKLC,EALK,OAOM9K,qBAAWvB,GAAvCoG,EAPsB,EAOtBA,UAAWC,EAPW,EAOXA,aAYbiG,EAAmB,SAAC5E,GACxB2E,EAAoB,OA6CtB,OAnBA3J,qBAAU,WACR,IAAI6J,GAAc,EAgBlB,OAfAlG,GAAa,GACbL,KACGT,MAAK,SAACyC,GACDuE,GACFR,EAAY/D,MAGfzC,MAAK,WACJc,GAAa,MAEd6D,OAAM,SAACC,GACFoC,GACFN,EAAiB9B,EAAIjC,YAGpB,kBAAOqE,GAAc,KAC3B,CAAClG,IAEF,eAAC,KAAD,WACGD,GAAa,cAAC5C,GAAD,IACd,eAACmH,GAAD,CAAWlD,SA7CU,SAACC,GACxBA,EAAEsC,iBACE5D,IAGJC,GAAa,GNpGY,SAACuF,EAAUhE,GACtC,OAAOtC,MAAM,GAAD,OAAIH,GAAJ,aAAyB,CACnCwC,OAAQ,OACR7B,QAAS,CACP,eAAgB,oBAElB8B,KAAMC,KAAKC,UAAU,CACnB8D,WACAhE,WAEDrC,MAAK,SAACC,GAAD,OAASA,EAAIC,UM2FnB+G,CAAcZ,EAAUD,GACrBpG,MAAK,SAACyC,GACL3B,GAAa,GACG,IAAZ2B,EAAKC,IACPoE,EAAoBrE,EAAKE,SAE3BgE,EAAW,IACXC,EAAY,IACZnG,KAAcT,MAAK,SAACyC,GAClB+D,EAAY/D,SAGfkC,OAAM,SAACC,GACN9D,GAAa,QA0Bf,2CAEE,cAACwE,GAAD,CACEzC,MAAOwD,EACPvD,SAzDqB,SAACX,GAC5ByE,EAAYzE,EAAEY,OAAOF,QAyDfiC,QAASiC,IALb,iCAQE,cAACxB,GAAD,CACE1C,MAAOuD,EACPtD,SApEqB,SAACX,GAC5BwE,EAAWxE,EAAEY,OAAOF,QAoEdiC,QAASiC,EACThC,KAAK,OAEN8B,GACC,cAACX,GAAD,iDAEF,cAACV,GAAD,0CAEDiB,GACC,eAACP,GAAD,mCAEE,uBACCO,EAAc7D,cAGlB2D,GAAgC,IAApBA,EAASW,QAAgB,gHACtC,cAAC7B,GAAD,UACGkB,GACCA,EAASxF,KAAI,SAACqF,GAAD,OACX,cAACD,GAAD,CAA2BC,QAASA,GAArBA,EAAQtH,YCvPnC,I,SAAMqI,GAAoB/L,IAAOI,IAAV,wQAWjB4L,GAAehM,IAAOiG,KAAV,iHAMZC,GAAQlG,IAAOI,IAAV,wJASL+F,GAAenG,IAAOC,OAAV,qWAmBZqG,GAAWtG,IAAOkE,EAAV,uFAMC,SAASqC,KAAS,IACvBzF,EAAYF,qBAAW1B,GAAvB4B,QADsB,EAEES,mBAAS,IAFX,mBAEvB0J,EAFuB,KAEbO,EAFa,OAGEjK,mBAAS,IAHX,mBAGvBiF,EAHuB,KAGbC,EAHa,OAIElF,mBAAS,IAJX,mBAIvBmF,EAJuB,KAIbC,EAJa,OAKEpF,qBALF,mBAKvBqF,EALuB,KAKbC,EALa,OAMItF,oBAAS,GANb,mBAMvBkE,EANuB,KAMZC,EANY,KAOxB3E,EAAUC,cAsBhB,OACE,eAAC,KAAD,WACGyE,GAAa,cAAC5C,GAAD,IACd,cAACkJ,GAAD,UACE,eAACC,GAAD,CAAclF,SAzBC,SAACC,GACpBA,EAAEsC,iBACF3D,GAAa,GACbmB,EAAY,MPDQ,SAACoE,EAAUzE,EAAUE,GAC3C,OAAO/B,MAAM,GAAD,OAAIH,GAAJ,aAAyB,CACnCwC,OAAQ,OACR7B,QAAS,CACP,eAAgB,oBAElB8B,KAAMC,KAAKC,UAAU,CACnB8D,WACAzE,WACAE,eAED9B,MAAK,SAACC,GAAD,OAASA,EAAIC,UOTnBmH,CAAShB,EAAUzE,EAAUE,GAAU9B,MAAK,SAACyC,GAC3C,GAAgB,IAAZA,EAAKC,GAEP,OADA5B,GAAa,GACNmB,EAAYQ,EAAKE,SAE1BhI,EAAa8H,EAAK7H,OAClB0F,KAAQN,MAAK,SAACC,GAEZ,GADAa,GAAa,GACE,IAAXb,EAAIyC,GAEN,OADA/H,EAAa,MACNsH,EAAYhC,EAAI2C,YAEzB1G,EAAQ+D,EAAIwC,MACZtG,EAAQM,KAAK,YAQb,UACE,eAAC,GAAD,gCAEE,uBACEoG,MAAOwD,EACPvD,SAAU,SAACX,GAAD,OAAOyE,EAAYzE,EAAEY,OAAOF,aAG1C,eAAC,GAAD,gCAEE,uBACEA,MAAOjB,EACPkB,SAAU,SAACX,GAAD,OAAON,EAAYM,EAAEY,OAAOF,aAG1C,eAAC,GAAD,gCAEE,uBACEG,KAAK,WACLH,MAAOf,EACPgB,SAAU,SAACX,GAAD,OAAOJ,EAAYI,EAAEY,OAAOF,aAGzCb,GAAY,cAAC,GAAD,UAAWA,IACxB,cAAC,GAAD,CAAcgB,KAAK,SAAnB,kCClHV,I,GAAMsE,GAAkBlM,IAAOI,IAAV,iKAQf+L,GAAgBnM,IAAOI,IAAV,wLASbgM,GAAapM,IAAO2K,KAAV,sHAOD,SAAS0B,KACtB,OACE,cAACH,GAAD,UACE,cAACC,GAAD,UACE,cAACC,GAAD,CAAYE,KAAK,gCAAjB,mDCZR,IAAMC,GAAOvM,IAAOI,IAAV,iTAUNP,EAGAC,GA4DW0M,OAvDf,WAAgB,IAAD,EACWjL,mBAAS,MADpB,mBACNV,EADM,KACAC,EADA,OAEqBS,oBAAS,GAF9B,mBAENkE,EAFM,KAEKC,EAFL,KAiBb,OAbA3D,qBAAU,WACR2D,GAAa,GACT/F,IACFuF,KAAQN,MAAK,SAACC,GACRA,EAAIyC,KACNxG,EAAQ+D,EAAIwC,MACZ3B,GAAa,OAIjBA,GAAa,KAEd,IAED,cAACxG,EAAYkK,SAAb,CAAsB3B,MAAO,CAAE5G,OAAMC,WAArC,SACE,eAAC,IAAD,WACE,cAAC0B,EAAD,IACA,eAAC+J,GAAD,WACE,eAAClN,EAAe+J,SAAhB,CAAyB3B,MAAO,CAAEhC,YAAWC,gBAA7C,UACGD,GAAa,cAAC5C,GAAD,IACd,eAAC,IAAD,WACE,cAAC,IAAD,CAAO4J,OAAK,EAACC,KAAK,IAAlB,SACE,cAACpH,GAAD,MAEF,cAAC,IAAD,CAAOmH,OAAK,EAACC,KAAK,SAAlB,SACE,cAAC9C,GAAD,MAEF,cAAC,IAAD,CAAO6C,OAAK,EAACC,KAAK,SAAlB,SACE,cAACnG,GAAD,MAEF,cAAC,IAAD,CAAOkG,OAAK,EAACC,KAAK,WAAlB,SACE,cAAC/D,GAAD,MAEF,cAAC,IAAD,CAAO8D,OAAK,EAACC,KAAK,YAAlB,SACE,cAAC5E,GAAD,MAEF,cAAC,IAAD,CAAO2E,OAAK,EAACC,KAAK,SAAlB,SACE,cAACxB,GAAD,MAEF,cAAC,IAAD,CAAOuB,OAAK,EAACC,KAAK,YAAlB,SACE,cAAC,GAAD,YAIN,cAACL,GAAD,aCjFVM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.a6d7002f.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\nexport const PreviewContext = createContext(null);\nexport const LoadingContext = createContext(null);\n","const TOKEN_NAME = \"token\";\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n","export const MEDIA_QUERY_LG = \"@media screen and (min-width: 768px)\";\nexport const MEDIA_QUERY_MD = \"@media screen and (max-width: 768px)\";\nexport const MEDIA_QUERY_SM = \"@media screen and (max-width: 576px)\";\n","import { useContext, useState } from \"react\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { setAuthToken } from \"../../../utils/auth\";\nimport { AuthContext } from \"../../../utils/contexts\";\n\nconst BurgerStyle = styled.button`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  margin: 10px auto;\n  width: 2rem;\n  height: 2rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 10;\n  &:focus {\n    outline: none;\n  }\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    border-radius: 10px;\n    background: #495464;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n    :first-child {\n      transform: ${({ open }) => (open ? \"rotate(45deg)\" : \"rotate(0)\")};\n    }\n\n    :nth-child(2) {\n      opacity: ${({ open }) => (open ? \"0\" : \"1\")};\n      transform: ${({ open }) => (open ? \"translateX(20px)\" : \"translateX(0)\")};\n    }\n\n    :nth-child(3) {\n      transform: ${({ open }) => (open ? \"rotate(-45deg)\" : \"rotate(0)\")};\n    }\n  }\n`;\n\nconst BurgerWrapper = styled.div`\n  width: 100%;\n`;\n\nconst MenuBtns = styled.div`\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  z-index: 99;\n  width: 100%;\n`;\nconst MenuBtn = styled(Link)`\n  text-decoration: none;\n  background: white;\n  border-bottom: 1px solid #e8e8e8;\n  width: 100%;\n  display: flex;\n  font-size: 1em;\n  align-items: center;\n  padding: 10px 0;\n  justify-content: center;\n  cursor: pointer;\n  color: #495464;\n  transition: all 0.3s;\n\n  :hover {\n    background: #e8e8e8;\n    cursor: pointer;\n    color: #000000;\n  }\n`;\nconst MenuLoginBtn = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Menu = () => {\n  const location = useLocation();\n  const { user, setUser } = useContext(AuthContext);\n  const history = useHistory();\n  const handleLogout = () => {\n    setAuthToken(\"\");\n    setUser(null);\n    if (location.pathname !== \"/\") {\n      history.push(\"/\");\n    }\n  };\n  return (\n    <MenuBtns>\n      <MenuBtn to=\"/posts\" $active={location.pathname === \"/posts\"}>\n        所有文章\n      </MenuBtn>\n      {user && (\n        <MenuBtn to=\"/newPost\" $active={location.pathname === \"/newPost\"}>\n          新增文章\n        </MenuBtn>\n      )}\n      <MenuBtn to=\"/board\" $active={location.pathname === \"/board\"}>\n        留言板\n      </MenuBtn>\n\n      {!user && (\n        <MenuLoginBtn>\n          <MenuBtn to=\"/login\" $active={location.pathname === \"/login\"}>\n            登入\n          </MenuBtn>\n          <MenuBtn to=\"/register\" $active={location.pathname === \"/register\"}>\n            註冊\n          </MenuBtn>\n        </MenuLoginBtn>\n      )}\n      {user && (\n        <MenuLoginBtn>\n          <MenuBtn to=\"/\" onClick={handleLogout}>\n            登出\n          </MenuBtn>\n        </MenuLoginBtn>\n      )}\n    </MenuBtns>\n  );\n};\n\nexport default function Burger() {\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => {\n    setOpen(!open);\n  };\n  return (\n    <BurgerWrapper>\n      <BurgerStyle onClick={handleOpen} open={open}>\n        <div></div>\n        <div></div>\n        <div></div>\n      </BurgerStyle>\n      {open && <Menu />}\n    </BurgerWrapper>\n  );\n}\n","import { useEffect, useState } from \"react\";\n\nconst useRWD = () => {\n  const [device, setDevice] = useState(\"\");\n  const handleRWD = () => {\n    if (window.innerWidth > 768) setDevice(\"PC\");\n    else if (window.innerWidth > 576) setDevice(\"tablet\");\n    else setDevice(\"mobile\");\n  };\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleRWD);\n    handleRWD();\n    return () => {\n      window.removeEventListener(\"resize\", handleRWD);\n    };\n  }, []);\n  return device;\n};\n\nexport default useRWD;\n","import styled from \"styled-components\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../utils/contexts\";\nimport { setAuthToken } from \"../../utils/auth\";\nimport { MEDIA_QUERY_MD, MEDIA_QUERY_SM } from \"../../RWD/RWD\";\nimport Burger from \"./Burger\";\nimport useRWD from \"../../utils/useRWD\";\n\nconst Nav = styled.div`\n  z-index: 10;\n  display: flex;\n  position: fixed;\n  justify-content: space-around;\n  align-items: center;\n  top: 0;\n  right: 0;\n  left: 0;\n  border-bottom: 1px solid lightgrey;\n  background: white;\n  ${MEDIA_QUERY_MD} {\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    height: 128px;\n  }\n  ${MEDIA_QUERY_SM} {\n    justify-content: start;\n    align-items: center;\n    height: 100px;\n  }\n`;\nconst NavBtns = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  ${MEDIA_QUERY_MD} {\n    font-size: 0.8em;\n  }\n`;\nconst Title = styled(Link)`\n  margin: 0 10px;\n  display: flex;\n  align-items: center;\n  font-size: 2em;\n  cursor: pointer;\n  color: #495464;\n  text-decoration: none;\n`;\nconst NavBtn = styled(Link)`\n  text-decoration: none;\n  padding: 10px;\n  margin: 0 10px;\n  display: flex;\n  font-size: 1em;\n  cursor: pointer;\n  border-radius: 5px;\n  color: #495464;\n  transition: all 0.3s;\n  :hover {\n    background: #e8e8e8;\n    cursor: pointer;\n    color: #000000;\n    transform: scale(1.2);\n  }\n  ${(props) =>\n    props.$active &&\n    `\n  background: #e8e8e8;\n  `}\n`;\nconst LoginBtn = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 20px;\n  color: #495464;\n`;\n\nexport default function Navbar() {\n  const location = useLocation();\n  const { user, setUser } = useContext(AuthContext);\n  const history = useHistory();\n  const handleLogout = () => {\n    setAuthToken(\"\");\n    setUser(null);\n    if (location.pathname !== \"/\") {\n      history.push(\"/\");\n    }\n  };\n  // RWD\n  const device = useRWD();\n\n  return (\n    <Nav>\n      <Title to=\"/\">Heng's Blog</Title>\n      {device === \"mobile\" && <Burger />}\n      {(device === \"tablet\" || device === \"PC\") && (\n        <NavBtns>\n          <NavBtn to=\"/posts\" $active={location.pathname === \"/posts\"}>\n            所有文章\n          </NavBtn>\n          {user && (\n            <NavBtn to=\"/newPost\" $active={location.pathname === \"/newPost\"}>\n              新增文章\n            </NavBtn>\n          )}\n          <NavBtn to=\"/board\" $active={location.pathname === \"/board\"}>\n            留言板\n          </NavBtn>\n\n          <div>\n            {!user && (\n              <LoginBtn>\n                <NavBtn to=\"/login\" $active={location.pathname === \"/login\"}>\n                  登入\n                </NavBtn>\n                <NavBtn\n                  to=\"/register\"\n                  $active={location.pathname === \"/register\"}\n                >\n                  註冊\n                </NavBtn>\n              </LoginBtn>\n            )}\n            {user && (\n              <LoginBtn>\n                <NavBtn to=\"/\" onClick={handleLogout}>\n                  登出\n                </NavBtn>\n              </LoginBtn>\n            )}\n          </div>\n        </NavBtns>\n      )}\n    </Nav>\n  );\n}\n","import styled, { keyframes } from \"styled-components\";\n\nconst Loader = styled.div`\n  z-index: 99;\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.7);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 3em;\n`;\n\nconst animation = keyframes`\n  0%, 100% {\n    animation-timing-function: cubic-bezier(0.5, 0, 1, 0.5);\n  }\n  0% {\n    transform: rotateY(0deg);\n  }\n  50% {\n    transform: rotateY(1800deg);\n    animation-timing-function: cubic-bezier(0, 0.5, 0.5, 1);\n  }\n  100% {\n    transform: rotateY(3600deg);\n  }\n`;\n\nconst LoadingAnimation = styled.div`\ndisplay: inline-block;\ntransform: translateZ(1px);\n  animation: ${animation} 5s linear infinite;\n  div {\n    display: inline-block;\n  width: 64px;\n  height: 64px;\n  margin: 8px;\n  border-radius: 50%;\n  background: #fff;\n  animation: lds-circle 2.4s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n}\n    }\n    :nth-child(2) {\n      top: 8px;\n      left: 32px;\n      animation-delay: -0.4s;\n    }\n    :nth-child(3) {\n      top: 8px;\n      left: 56px;\n      animation-delay: -0.8s;\n    }\n    :nth-child(4) {\n      top: 32px;\n      left: 8px;\n      animation-delay: -0.4s;\n    }\n    :nth-child(5) {\n      top: 32px;\n      left: 32px;\n      animation-delay: -0.8s;\n    }\n    :nth-child(6) {\n      top: 32px;\n      left: 56px;\n      animation-delay: -1.2s;\n    }\n    :nth-child(7) {\n      top: 56px;\n      left: 8px;\n      animation-delay: -0.8s;\n    }\n    :nth-child(8) {\n      top: 56px;\n      left: 32px;\n      animation-delay: -1.2s;\n    }\n    :nth-child(9) {\n      top: 56px;\n      left: 56px;\n      animation-delay: -1.6s;\n    }\n  }\n`;\n\nexport default function Loading() {\n  return (\n    <Loader>\n      <LoadingAnimation>\n        <div></div>\n      </LoadingAnimation>\n    </Loader>\n  );\n}\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../utils/contexts\";\nimport { MEDIA_QUERY_MD } from \"../../RWD/RWD\";\n\nconst PostContainer = styled.div`\n  position: relative;\n  max-width: 645px;\n  margin: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  color: #495464;\n  transition-duration: 0.5s;\n  :hover {\n    background: #e8e8e8;\n    cursor: pointer;\n    color: #000000;\n    transform: scale(1.2);\n  }\n`;\nconst PostTitle = styled.div`\n  display: block;\n  text-decoration: none;\n  line-height: 1.8em;\n  color: #495464;\n  font-size: 1.5em;\n  margin-top: 1em;\n  margin-bottom: 1em;\n  margin-left: 0;\n  margin-right: 0;\n  font-weight: bold;\n  ${MEDIA_QUERY_MD} {\n    font-size: 0.8em;\n  }\n`;\n\nconst PostInfo = styled.div`\n  background: #495464;\n  color: #f4f4f2;\n  margin-bottom: 10px;\n  ${MEDIA_QUERY_MD} {\n    font-size: 0.5em;\n  }\n`;\nconst PostDate = styled.div`\n  margin: 0 20px;\n`;\n\nconst LinkStyle = {\n  textDecoration: \"none\",\n};\nconst SmallPostWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n`;\nconst SmallPostTitle = styled(Link)`\n  text-decoration: none;\n  line-height: 1.5em;\n  color: #495464;\n  display: block;\n  font-size: 1em;\n  margin: 0.5em;\n  box-sizing: border-box;\n  font-weight: bold;\n  textdecoration: \"none\";\n  ${MEDIA_QUERY_MD} {\n    font-size: 0.5em;\n  }\n`;\nconst DeleteButton = styled.div`\n  min-width: 4em;\n  height: 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1em;\n  background-color: #f38181;\n  border-radius: 10px;\n  padding: 0.5em;\n  color: white;\n  cursor: pointer;\n  ${MEDIA_QUERY_MD} {\n    font-size: 0.5em;\n  }\n`;\n\nexport function SmallPostInfoCard({ post, handleDeletePost }) {\n  const { user } = useContext(AuthContext);\n  return (\n    <PostContainer key={post.id}>\n      <SmallPostWrapper>\n        <SmallPostTitle to={`/post/${post.id}`}>{post.title}</SmallPostTitle>\n        {user && user.id === post.userId && (\n          <DeleteButton onClick={() => handleDeletePost(post.id)}>\n            刪除\n          </DeleteButton>\n        )}\n      </SmallPostWrapper>\n    </PostContainer>\n  );\n}\n\nexport function PostInfoCard({ post }) {\n  return (\n    <PostContainer key={post.id}>\n      <Link to={`/post/${post.id}`} style={LinkStyle}>\n        <PostTitle>{post.title}</PostTitle>\n        <PostInfo>\n          <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n        </PostInfo>\n      </Link>\n    </PostContainer>\n  );\n}\n","import styled from \"styled-components\";\nimport React, { useContext } from \"react\";\nimport { PreviewContext } from \"../../utils/contexts\";\nimport FadeIn from \"react-fade-in\";\n\nconst PostContainer = styled.div`\n  margin-top: 256px;\n  width: 645px;\n  margin-bottom: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  color: #495464;\n  opacity: 100%;\n  background-color: white;\n  min-height: 300px;\n  overflow: scroll;\n`;\nconst PostTitle = styled.div`\n  text-decoration: none;\n  line-height: 1.8em;\n  color: #495464;\n  display: block;\n  font-size: 1.5em;\n  margin-top: 1em;\n  margin-bottom: 1em;\n  margin-left: 0;\n  margin-right: 0;\n  font-weight: bold;\n`;\n\nconst PostInfo = styled.div`\n  background: #495464;\n  color: #f4f4f2;\n  margin-bottom: 10px;\n`;\nconst PostDate = styled.a`\n  margin: 0 20px;\n`;\nconst ArticleContent = styled.div`\n  line-height: 2em;\n`;\n\nexport default function Preview() {\n  const { newPostTitle, newPostBody } = useContext(PreviewContext);\n  const time = new Date().toLocaleString();\n\n  return (\n    <FadeIn>\n      <PostContainer>\n        <PostTitle>{newPostTitle}</PostTitle>\n        <PostInfo>\n          <PostDate>{time}</PostDate>\n        </PostInfo>\n        <ArticleContent>{newPostBody}</ArticleContent>\n      </PostContainer>\n    </FadeIn>\n  );\n}\n","import { getAuthToken } from \"./auth\";\n\nconst BASE_URL = \"https://student-json-api.lidemy.me\";\n\n// GET 系列\nexport const getPosts = (num) => {\n  if (num) {\n    return fetch(\n      `${BASE_URL}/posts?_sort=createdAt&_order=desc&_limit=${num}`\n    ).then((res) => res.json());\n  }\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`).then((res) =>\n    res.json()\n  );\n};\n\nexport const getSinglePost = async (id) => {\n  const fetchAPI = await fetch(`${BASE_URL}/posts?id=${id}`);\n  const jsonData = await fetchAPI.json();\n  return jsonData;\n};\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\n//  POST 系列\nexport const login = (username, password) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const addNewPost = (title, body) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\n// DELETE 系列\n\nexport const deletePost = (id) => {\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: \"DELETE\",\n  }).then((res) => res.json());\n};\n\n// 註冊功能\n\nexport const register = (nickname, username, password) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\n// 留言板\n\nexport const addNewComment = (nickname, body) => {\n  return fetch(`${BASE_URL}/comments`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getComments = () => {\n  return fetch(`${BASE_URL}/comments?_sort=createdAt&_order=desc`).then((res) =>\n    res.json()\n  );\n};\n","import { Loading, PostInfoCard } from \"../../components\";\nimport { getPosts } from \"../../utils/WebAPI\";\nimport { useContext, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FadeIn from \"react-fade-in\";\nimport { LoadingContext } from \"../../utils/contexts\";\n\nPostInfoCard.propTypes = {\n  post: PropTypes.object,\n};\n\nexport default function HomePage() {\n  const [posts, setPosts] = useState([]);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPosts(5)\n      .then((posts) => {\n        setPosts(posts);\n      })\n      .then(() => {\n        setIsLoading(false);\n      });\n  }, [setIsLoading]);\n\n  return (\n    <FadeIn>\n      {isLoading && <Loading />}\n      {posts.map((post) => (\n        <PostInfoCard post={post} key={post.id} />\n      ))}\n    </FadeIn>\n  );\n}\n","import { useContext, useState } from \"react\";\nimport FadeIn from \"react-fade-in\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { setAuthToken } from \"../../utils/auth\";\nimport { AuthContext } from \"../../utils/contexts\";\nimport { getMe, login } from \"../../utils/WebAPI\";\n\nconst LoginContainer = styled.div`\n  width: 100%;\n  margin: 0 auto;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  color: #495464;\n  display: flex;\n  justify-content: center;\n`;\nconst LoginForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  max-width: 645px;\n  margin: 30px;\n`;\nconst Input = styled.div`\n  align-self: center;\n  font-size: 1em;\n  margin: 1em;\n  border: 2px solid#ffffff;\n  :active {\n    outline: 0;\n  }\n`;\nconst SubmitButton = styled.button`\n  width: 50%;\n  font-size: 1em;\n  margin: 1em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\nconst BTNGroup = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-item: center;\n`;\nconst ToRegister = styled(Link)`\n  width: 50%;\n  font-size: 1em;\n  margin: 1em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  text-align: center;\n  text-decoration: none;\n  color: black;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\n\nconst ErrorMsg = styled.a`\n  font-size: 1em;\n  color: red;\n  align-self: center;\n`;\n\nexport default function Login() {\n  const { setUser } = useContext(AuthContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState();\n  const history = useHistory();\n  const handleSubmit = (e) => {\n    setErrorMsg(null);\n    login(username, password).then((data) => {\n      if (data.ok === 0) {\n        return setErrorMsg(data.message);\n      }\n      setAuthToken(data.token);\n      getMe().then((res) => {\n        if (res.ok !== 1) {\n          setAuthToken(null);\n          return setErrorMsg(res.toString());\n        }\n        setUser(res.data);\n        history.push(\"/\");\n      });\n    });\n  };\n  return (\n    <FadeIn>\n      <LoginContainer>\n        <LoginForm onSubmit={handleSubmit}>\n          <Input>\n            帳號：\n            <input\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </Input>\n          <Input>\n            密碼：\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </Input>\n          {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\n          <BTNGroup>\n            <ToRegister to=\"/register\">註冊</ToRegister>\n            <SubmitButton type=\"submit\">登入</SubmitButton>\n          </BTNGroup>\n        </LoginForm>\n      </LoginContainer>\n    </FadeIn>\n  );\n}\n","import styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport { getSinglePost } from \"../../utils/WebAPI\";\nimport FadeIn from \"react-fade-in\";\n\nconst ArticleContent = styled.div`\n  line-height: 2em;\n`;\n\nconst PostContainer = styled.div`\n  position: relative;\n  margin-bottom: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  color: #495464;\n`;\nconst PostTitle = styled.div`\n  text-decoration: none;\n  line-height: 1.8em;\n  color: #495464;\n  display: block;\n  font-size: 1.5em;\n  margin-top: 1em;\n  margin-bottom: 1em;\n  margin-left: 0;\n  margin-right: 0;\n  font-weight: bold;\n`;\n\nconst PostInfo = styled.div`\n  background: #495464;\n  color: #f4f4f2;\n  margin-bottom: 10px;\n`;\nconst PostDate = styled.a`\n  margin: 0 20px;\n`;\nconst PostClassify = styled.a`\n  margin: 0 20px;\n`;\n\nexport default function Post() {\n  const [post, setPost] = useState([]);\n  const { id } = useParams();\n\n  useEffect(() => {\n    async function runGetSinglePost() {\n      const data = await getSinglePost(id);\n      setPost(data);\n    }\n    runGetSinglePost();\n  }, [id]);\n\n  return (\n    <FadeIn>\n      {post.map((post) => (\n        <PostContainer key={id}>\n          <PostTitle>{post && post.title}</PostTitle>\n          <PostInfo>\n            <PostDate>\n              {post && new Date(post.createdAt).toLocaleString()}\n            </PostDate>\n            <PostClassify></PostClassify>\n          </PostInfo>\n          <ArticleContent>{post && post.body}</ArticleContent>\n        </PostContainer>\n      ))}\n    </FadeIn>\n  );\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { getAuthToken } from \"../../utils/auth\";\nimport { LoadingContext, PreviewContext } from \"../../utils/contexts\";\nimport { addNewPost } from \"../../utils/WebAPI\";\nimport { Loading, Preview } from \"../../components\";\nimport FadeIn from \"react-fade-in\";\n\nconst PostForm = styled.form`\n  width: 80vw;\n  max-width: 576px;\n  box-sizing: border-box;\n  position: relative;\n  margin-bottom: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 2em 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n`;\nconst Title = styled.div`\n  align-self: center;\n  color: #495464;\n  font-size: 1.5em;\n`;\n\nconst ErrorMsg = styled.div`\n  z-index: 99;\n  position: fixed;\n  background-color: #e8e8e8;\n  top: -128px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  color: red;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  font-size: 1.5em;\n  line-height: 2em;\n`;\n\nconst NewPostTitle = styled.input`\n  width: 100%;\n  margin-top: 3em;\n  height: 2em;\n`;\nconst NewPostBody = styled.textarea`\n  width: 100%;\n  margin-top: 3em;\n`;\n\nconst NewPostBTNs = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\nconst NewPostSubmit = styled.button`\n  width: 20%;\n  font-size: 1em;\n  margin: 1em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\nconst NewPostPreview = styled.div`\n  width: 20%;\n  font-size: 1em;\n  margin: 1em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  text-align: center;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\nconst PreviewBackground = styled.div`\n  z-index: 99;\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.5);\n  top: -128px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  color: red;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n`;\n\nfunction sleep(time) {\n  return new Promise((resolve) => setTimeout(resolve, time));\n}\n\nexport default function NewPost() {\n  const [newPostTitle, setNewPostTitle] = useState(\"\");\n  const [newPostBody, setNewPostBody] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState();\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const history = useHistory();\n\n  const handleTitleChange = (e) => {\n    setNewPostTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e) => {\n    setNewPostBody(e.target.value);\n  };\n\n  const handleFocus = () => {\n    setErrorMsg(null);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    addNewPost(newPostTitle, newPostBody)\n      .then((res) => {\n        setIsLoading(false);\n        if (res.ok === 0) return setErrorMsg(res.message);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        setErrorMsg(err.message);\n      });\n  };\n\n  // preview function\n  const [previewClick, setPreviewClick] = useState(false);\n  const handlePreviewClick = () => {\n    setPreviewClick(true);\n  };\n  const handlePreviewCancel = () => {\n    setPreviewClick(false);\n  };\n\n  // 登出狀態進到此頁面\n  const token = getAuthToken();\n  useEffect(() => {\n    if (!token) {\n      sleep(3000).then(() => {\n        history.push(\"/\");\n      });\n    }\n  });\n\n  if (!token) {\n    return (\n      <ErrorMsg>\n        <div>請登入後再發新文章</div>\n        <div>正在將您導向首頁</div>\n      </ErrorMsg>\n    );\n  }\n\n  return (\n    <FadeIn>\n      {isLoading && <Loading />}\n      <PreviewContext.Provider value={{ newPostTitle, newPostBody }}>\n        {previewClick && (\n          <PreviewBackground onClick={handlePreviewCancel}>\n            <Preview />\n          </PreviewBackground>\n        )}\n      </PreviewContext.Provider>\n      <PostForm onSubmit={handleSubmit}>\n        <Title>新增文章</Title>\n        <NewPostTitle\n          value={newPostTitle}\n          placeholder={errorMsg ? errorMsg : \"請輸入標題\"}\n          onChange={handleTitleChange}\n          onFocus={handleFocus}\n        />\n        <NewPostBody\n          value={newPostBody}\n          rows={30}\n          placeholder={errorMsg ? errorMsg : \"請輸入內文\"}\n          onChange={handleBodyChange}\n          onFocus={handleFocus}\n        ></NewPostBody>\n        <NewPostBTNs>\n          <NewPostSubmit>{isLoading ? \"發布中\" : \"送出\"}</NewPostSubmit>\n          <NewPostPreview onClick={handlePreviewClick}>預覽</NewPostPreview>\n        </NewPostBTNs>\n      </PostForm>\n    </FadeIn>\n  );\n}\n","import { Loading, SmallPostInfoCard } from \"../../components\";\nimport { deletePost, getPosts } from \"../../utils/WebAPI\";\nimport { useContext, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FadeIn from \"react-fade-in\";\nimport { LoadingContext } from \"../../utils/contexts\";\n\nSmallPostInfoCard.propTypes = {\n  post: PropTypes.object,\n};\n\nexport default function Posts() {\n  const [posts, setPosts] = useState([]);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPosts()\n      .then((posts) => setPosts(posts))\n      .then(() => {\n        setIsLoading(false);\n      });\n  }, [setIsLoading]);\n\n  const handleDeletePost = (id) => {\n    deletePost(id)\n      .then(() => {\n        getPosts().then((posts) => setPosts(posts));\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .then(setIsLoading(false));\n  };\n\n  return (\n    <FadeIn>\n      {isLoading && <Loading />}\n      {posts.map((post) => (\n        <SmallPostInfoCard\n          post={post}\n          key={post.id}\n          handleDeletePost={handleDeletePost}\n        ></SmallPostInfoCard>\n      ))}\n    </FadeIn>\n  );\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport FadeIn from \"react-fade-in\";\nimport styled from \"styled-components\";\nimport { Loading } from \"../../components\";\nimport { MEDIA_QUERY_MD } from \"../../RWD/RWD\";\nimport { LoadingContext } from \"../../utils/contexts\";\nimport { addNewComment, getComments } from \"../../utils/WebAPI\";\n\nconst BoardForm = styled.form`\n  width: 70vw;\n  max-width: 576px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 20px;\n  padding: 30px 30px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  color: #495464;\n  transition-duration: 0.5s;\n`;\nconst BoardListContainer = styled.div``;\nconst BoardNickname = styled.input`\n  width: 100%;\n  border: 1px solid #495464;\n  box-sizing: border-box;\n  border-radius: 5px;\n  background: #e8e8e8;\n  margin: 1em;\n  height: 2em;\n  :focus {\n    outline-style: none;\n    background: white;\n  }\n`;\nconst BoardTextarea = styled.textarea`\n  width: 100%;\n  min-height: 10em;\n  padding: 10px;\n  border: 1px solid #495464;\n  box-sizing: border-box;\n  border-radius: 5px;\n  background-color: #e8e8e8;\n  margin: 1em;\n  :focus {\n    outline-style: none;\n    background: white;\n  }\n`;\nconst BoardSubmitButton = styled.button`\n  font-size: 1em;\n  margin-top: 0.5em;\n  width: 15em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\nconst Comment = styled.div`\n  display: flex;\n  margin: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  color: #495464;\n  transition-duration: 0.5s;\n  :hover {\n    background: #e8e8e8;\n    color: #000000;\n    transform: scale(1.2);\n  }\n  ${MEDIA_QUERY_MD} {\n    padding: 5px 15px;\n  }\n`;\n\nconst CommentBody = styled.div`\n  margin-left: 20px;\n  overflow-wrap: anywhere;\n  max-width: 500px;\n`;\nconst CommentAvatar = styled.div`\n  min-width: 50px;\n  height: 50px;\n  width: 50px;\n  border-radius: 50%;\n  background: #e4f0fb;\n  ${MEDIA_QUERY_MD} {\n    min-width: 25px;\n    height: 25px;\n    width: 25px;\n    border-radius: 50%;\n    margin-top: 0.5em;\n  }\n`;\n\nconst CommentUserInfo = styled.div`\n  display: flex;\n  text-align: left;\n  max-width: 250px;\n  color: black;\n  font-weight: bold;\n  overflow: hidden;\n  align-items: center;\n`;\n\nconst CommentInfo = styled.div`\n  display: flex;\n`;\n\nconst CommentDate = styled.span`\n  color: #a0a0a0;\n  margin-left: 20px;\n  align-items: center;\n  display: flex;\n`;\nconst CommentContent = styled.p`\n  margin-top: 20px;\n  max-width: 100%;\n  white-space: break-spaces;\n`;\n\nconst ErrorMessage = styled.div`\n  margin: 2em;\n  color: red;\n`;\n\nfunction Comments({ comment }) {\n  return (\n    <FadeIn>\n      <Comment>\n        <CommentAvatar />\n        <CommentBody>\n          <CommentInfo>\n            <CommentUserInfo>{comment.nickname}</CommentUserInfo>\n            <CommentDate>\n              {new Date(comment.createdAt).toLocaleString()}\n            </CommentDate>\n          </CommentInfo>\n          <CommentContent>{comment.body}</CommentContent>\n        </CommentBody>\n      </Comment>\n    </FadeIn>\n  );\n}\n\nexport default function Board() {\n  const [comments, setComments] = useState(null);\n  const [CommentApiErr, setCommentApiErr] = useState(null);\n  const [comment, setComment] = useState(\"\");\n  const [nickname, setNickname] = useState(\"\");\n  const [createCommentErr, setCreateCommentErr] = useState(null);\n  // avoid the unlimited submit\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n\n  // comment value\n  const handleTextAreaChange = (e) => {\n    setComment(e.target.value);\n  };\n\n  // username value\n  const handleUsernameChange = (e) => {\n    setNickname(e.target.value);\n  };\n\n  const handleInputFocus = (e) => {\n    setCreateCommentErr(null);\n  };\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    addNewComment(nickname, comment)\n      .then((data) => {\n        setIsLoading(false);\n        if (data.ok === 0) {\n          setCreateCommentErr(data.message);\n        }\n        setComment(\"\");\n        setNickname(\"\");\n        getComments().then((data) => {\n          setComments(data);\n        });\n      })\n      .catch((err) => {\n        setIsLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    let isSubscribe = true;\n    setIsLoading(true);\n    getComments()\n      .then((data) => {\n        if (isSubscribe) {\n          setComments(data);\n        }\n      })\n      .then(() => {\n        setIsLoading(false);\n      })\n      .catch((err) => {\n        if (isSubscribe) {\n          setCommentApiErr(err.message);\n        }\n      });\n    return () => (isSubscribe = false);\n  }, [setIsLoading]);\n  return (\n    <FadeIn>\n      {isLoading && <Loading />}\n      <BoardForm onSubmit={handleFormSubmit}>\n        您的暱稱：\n        <BoardNickname\n          value={nickname}\n          onChange={handleUsernameChange}\n          onFocus={handleInputFocus}\n        />\n        您的留言：\n        <BoardTextarea\n          value={comment}\n          onChange={handleTextAreaChange}\n          onFocus={handleInputFocus}\n          rows=\"20\"\n        />\n        {createCommentErr && (\n          <ErrorMessage>Your username or comment is empty!</ErrorMessage>\n        )}\n        <BoardSubmitButton>發送留言</BoardSubmitButton>\n      </BoardForm>\n      {CommentApiErr && (\n        <ErrorMessage>\n          Something went wrong.\n          <br />\n          {CommentApiErr.toString()}\n        </ErrorMessage>\n      )}\n      {comments && comments.length === 0 && <h1>目前沒有留言，快來新增吧！</h1>}\n      <BoardListContainer>\n        {comments &&\n          comments.map((comment) => (\n            <Comments key={comment.id} comment={comment}></Comments>\n          ))}\n      </BoardListContainer>\n    </FadeIn>\n  );\n}\n","import { useContext, useState } from \"react\";\nimport FadeIn from \"react-fade-in\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Loading } from \"../../components\";\nimport { setAuthToken } from \"../../utils/auth\";\nimport { AuthContext } from \"../../utils/contexts\";\nimport { getMe, register } from \"../../utils/WebAPI\";\n\nconst RegisterContainer = styled.div`\n  position: relative;\n  width: 100%;\n  margin-bottom: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  color: #495464;\n  display: flex;\n  justify-content: center;\n`;\nconst RegisterForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  max-width: 300px;\n  margin: 30px;\n`;\nconst Input = styled.div`\n  align-self: center;\n  font-size: 1em;\n  margin: 1em;\n  border: 2px solid#ffffff;\n  :active {\n    outline: 0;\n  }\n`;\nconst SubmitButton = styled.button`\n  font-size: 1em;\n  margin: 1em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\n\nconst ErrorMsg = styled.a`\n  font-size: 1em;\n  color: red;\n  align-self: center;\n`;\n\nexport default function Login() {\n  const { setUser } = useContext(AuthContext);\n  const [nickname, setNickname] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setErrorMsg(null);\n    register(nickname, username, password).then((data) => {\n      if (data.ok === 0) {\n        setIsLoading(false);\n        return setErrorMsg(data.message);\n      }\n      setAuthToken(data.token);\n      getMe().then((res) => {\n        setIsLoading(false);\n        if (res.ok !== 1) {\n          setAuthToken(null);\n          return setErrorMsg(res.toString());\n        }\n        setUser(res.data);\n        history.push(\"/\");\n      });\n    });\n  };\n  return (\n    <FadeIn>\n      {isLoading && <Loading />}\n      <RegisterContainer>\n        <RegisterForm onSubmit={handleSubmit}>\n          <Input>\n            暱稱：\n            <input\n              value={nickname}\n              onChange={(e) => setNickname(e.target.value)}\n            />\n          </Input>\n          <Input>\n            帳號：\n            <input\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </Input>\n          <Input>\n            密碼：\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </Input>\n          {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\n          <SubmitButton type=\"submit\">註冊</SubmitButton>\n        </RegisterForm>\n      </RegisterContainer>\n    </FadeIn>\n  );\n}\n","import styled from \"styled-components\";\nimport React from \"react\";\n\nconst FooterContainer = styled.div`\n  width: 100%;\n  border-top: 2px solid #e8e8e8;\n  position: fixed;\n  bottom: 0;\n  padding: 0.5em;\n  background-color: white;\n`;\nconst FooterWrapper = styled.div`\n  margin: 0 auto;\n  width: 100%;\n  max-width: 1080px;\n  background: #fff;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n`;\nconst FooterText = styled.span`\n  font-size: 8px;\n  letter-spacing: 1px;\n  text-decoration: none;\n  color: #495464;\n`;\n\nexport default function Footer() {\n  return (\n    <FooterContainer>\n      <FooterWrapper>\n        <FooterText href=\"https://github.com/YiHeng0221\">\n          © 2021 YiHeng Powered by React\n        </FooterText>\n      </FooterWrapper>\n    </FooterContainer>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport {\n  HomePage,\n  Login,\n  Post,\n  NewPost,\n  Posts,\n  Board,\n  Register,\n} from \"../pages\";\nimport { Loading, Navbar } from \"../components\";\nimport { AuthContext, LoadingContext } from \"../utils/contexts\";\nimport { getMe } from \"../utils/WebAPI\";\nimport { getAuthToken } from \"../utils/auth\";\nimport { MEDIA_QUERY_MD, MEDIA_QUERY_SM } from \"../RWD/RWD\";\nimport Footer from \"../components/Footer\";\n\nconst Root = styled.div`\n  margin: 5% auto;\n  box-model: border-box;\n  display: flex;\n  height: 100%;\n  width: 100%;\n  padding-top: 64px;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  ${MEDIA_QUERY_MD} {\n    padding-top: 128px;\n  }\n  ${MEDIA_QUERY_SM} {\n    padding-top: 100px;\n  }\n`;\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    if (getAuthToken()) {\n      getMe().then((res) => {\n        if (res.ok) {\n          setUser(res.data);\n          setIsLoading(false);\n        }\n      });\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <Router>\n        <Navbar />\n        <Root>\n          <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\n            {isLoading && <Loading />}\n            <Switch>\n              <Route exact path=\"/\">\n                <HomePage />\n              </Route>\n              <Route exact path=\"/posts\">\n                <Posts />\n              </Route>\n              <Route exact path=\"/login\">\n                <Login />\n              </Route>\n              <Route exact path=\"/newpost\">\n                <NewPost />\n              </Route>\n              <Route exact path=\"/post/:id\">\n                <Post />\n              </Route>\n              <Route exact path=\"/board\">\n                <Board />\n              </Route>\n              <Route exact path=\"/register\">\n                <Register />\n              </Route>\n            </Switch>\n          </LoadingContext.Provider>\n          <Footer />\n        </Root>\n      </Router>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}