{"version":3,"sources":["utils/contexts.js","utils/auth.js","components/Navbar/Navbar.js","components/Loading/Loading.js","components/PostInfoCard/PostInfoCard.js","components/Preview/Preview.js","utils/WebAPI.js","pages/HomePage/HomePage.js","pages/Login/Login.js","pages/Post/Post.js","pages/NewPost/NewPost.js","pages/Posts/Posts.js","pages/Board/Board.js","pages/Register/Register.js","App/App.js","index.js"],"names":["AuthContext","createContext","PreviewContext","LoadingContext","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","Nav","styled","div","NavBtns","Title","Link","NavBtn","props","$active","LoginBtn","Navbar","location","useLocation","useContext","user","setUser","history","useHistory","to","pathname","onClick","push","Loader","animation","keyframes","LoadingAnimation","Loading","PostContainer","PostTitle","PostInfo","PostDate","LinkStyle","textDecoration","SmallPostWrapper","SmallPostTitle","DeleteButton","SmallPostInfoCard","post","handleDeletePost","id","title","userId","PostInfoCard","style","Date","createdAt","toLocaleString","a","ArticleContent","Preview","newPostTitle","newPostBody","time","BASE_URL","getPosts","num","fetch","then","res","json","getSinglePost","fetchAPI","jsonData","getMe","headers","authorization","getComments","Root","HomePage","useState","posts","setPosts","isLoading","setIsLoading","useEffect","map","propTypes","PropTypes","object","LoginContainer","LoginForm","form","Input","SubmitButton","button","BTNGroup","ToRegister","ErrorMsg","Login","username","setUsername","password","setPassword","errorMsg","setErrorMsg","onSubmit","e","method","body","JSON","stringify","login","data","ok","message","toString","value","onChange","target","type","PostClassify","Post","setPost","useParams","runGetSinglePost","PostForm","NewPostTitle","input","NewPostBody","textarea","NewPostBTNs","NewPostSubmit","NewPostPreview","PreviewBackground","NewPost","setNewPostTitle","setNewPostBody","handleFocus","previewClick","setPreviewClick","Promise","resolve","setTimeout","Provider","preventDefault","addNewPost","catch","err","placeholder","onFocus","rows","Posts","deletePost","console","log","BoardForm","BoardListContainer","BoardNickname","BoardTextarea","BoardSubmitButton","Comment","CommentBody","CommentAvatar","CommentUserInfo","CommentInfo","CommentDate","span","CommentContent","p","ErrorMessage","Comments","comment","handleCommentDelete","nickname","Board","comments","setComments","CommentApiErr","setCommentApiErr","setComment","setNickname","createCommentErr","setCreateCommentErr","handleInputFocus","isSubscribe","addNewComment","length","RegisterContainer","RegisterForm","register","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6852ddf3.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const AuthContext = createContext(null);\nexport const PreviewContext = createContext(null);\nexport const LoadingContext = createContext(null);\n","const TOKEN_NAME = \"token\";\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token);\n};\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME);\n};\n","import styled from \"styled-components\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../utils/contexts\";\nimport { setAuthToken } from \"../../utils/auth\";\n\nconst Nav = styled.div`\n  height: 128px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  border-bottom: 1px solid lightgrey;\n  z-index: 99;\n  background: white;\n`;\nconst NavBtns = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst Title = styled(Link)`\n  font-size: 2.5em;\n  margin: 30px;\n  cursor: pointer;\n  color: #495464;\n  text-decoration: none;\n`;\nconst NavBtn = styled(Link)`\n  text-decoration: none;\n  display: flex;\n  margin: 20px;\n  padding: 10px;\n  font-size: 1em;\n  cursor: pointer;\n  border-radius: 5px;\n  color: #495464;\n  transition: all 0.3s;\n  :hover {\n    background: #e8e8e8;\n    cursor: pointer;\n    color: #000000;\n    transform: scale(1.2);\n  }\n  ${(props) =>\n    props.$active &&\n    `\n  background: #e8e8e8;\n  `}\n`;\nconst LoginBtn = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 20px;\n  color: #495464;\n`;\n\nexport default function Navbar() {\n  const location = useLocation();\n  const { user, setUser } = useContext(AuthContext);\n  const history = useHistory();\n  const handleLogout = () => {\n    setAuthToken(\"\");\n    setUser(null);\n    if (location.pathname !== \"/\") {\n      history.push(\"/\");\n    }\n  };\n  return (\n    <Nav>\n      <NavBtns>\n        <Title to=\"/\">Heng's Blog</Title>\n        <NavBtn to=\"/posts\" $active={location.pathname === \"/posts\"}>\n          所有文章\n        </NavBtn>\n        {user && (\n          <NavBtn to=\"/newPost\" $active={location.pathname === \"/newPost\"}>\n            新增文章\n          </NavBtn>\n        )}\n        <NavBtn to=\"/board\" $active={location.pathname === \"/board\"}>\n          留言板\n        </NavBtn>\n      </NavBtns>\n\n      {!user && (\n        <LoginBtn>\n          <NavBtn to=\"/login\" $active={location.pathname === \"/login\"}>\n            登入\n          </NavBtn>\n          <NavBtn to=\"/register\" $active={location.pathname === \"/register\"}>\n            註冊\n          </NavBtn>\n        </LoginBtn>\n      )}\n      {user && (\n        <LoginBtn>\n          <NavBtn to=\"/\" onClick={handleLogout}>\n            登出\n          </NavBtn>\n        </LoginBtn>\n      )}\n    </Nav>\n  );\n}\n","import styled, { keyframes } from \"styled-components\";\n\nconst Loader = styled.div`\n  z-index: 99;\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: rgba(0, 0, 0, 0.7);\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 3em;\n`;\n\nconst animation = keyframes`\n  0%, 100% {\n    animation-timing-function: cubic-bezier(0.5, 0, 1, 0.5);\n  }\n  0% {\n    transform: rotateY(0deg);\n  }\n  50% {\n    transform: rotateY(1800deg);\n    animation-timing-function: cubic-bezier(0, 0.5, 0.5, 1);\n  }\n  100% {\n    transform: rotateY(3600deg);\n  }\n`;\n\nconst LoadingAnimation = styled.div`\ndisplay: inline-block;\ntransform: translateZ(1px);\n  animation: ${animation} 5s linear infinite;\n  div {\n    display: inline-block;\n  width: 64px;\n  height: 64px;\n  margin: 8px;\n  border-radius: 50%;\n  background: #fff;\n  animation: lds-circle 2.4s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n}\n    }\n    :nth-child(2) {\n      top: 8px;\n      left: 32px;\n      animation-delay: -0.4s;\n    }\n    :nth-child(3) {\n      top: 8px;\n      left: 56px;\n      animation-delay: -0.8s;\n    }\n    :nth-child(4) {\n      top: 32px;\n      left: 8px;\n      animation-delay: -0.4s;\n    }\n    :nth-child(5) {\n      top: 32px;\n      left: 32px;\n      animation-delay: -0.8s;\n    }\n    :nth-child(6) {\n      top: 32px;\n      left: 56px;\n      animation-delay: -1.2s;\n    }\n    :nth-child(7) {\n      top: 56px;\n      left: 8px;\n      animation-delay: -0.8s;\n    }\n    :nth-child(8) {\n      top: 56px;\n      left: 32px;\n      animation-delay: -1.2s;\n    }\n    :nth-child(9) {\n      top: 56px;\n      left: 56px;\n      animation-delay: -1.6s;\n    }\n  }\n`;\n\nexport default function Loading() {\n  return (\n    <Loader>\n      <LoadingAnimation>\n        <div></div>\n      </LoadingAnimation>\n    </Loader>\n  );\n}\n","import styled from \"styled-components\";\nimport { Link } from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../utils/contexts\";\n\nconst PostContainer = styled.div`\n  position: relative;\n  max-width: 645px;\n  margin: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  color: #495464;\n  transition-duration: 0.5s;\n  :hover {\n    background: #e8e8e8;\n    cursor: pointer;\n    color: #000000;\n    transform: scale(1.2);\n  }\n`;\nconst PostTitle = styled.div`\n  display: block;\n  text-decoration: none;\n  line-height: 1.8em;\n  color: #495464;\n  font-size: 1.5em;\n  margin-top: 1em;\n  margin-bottom: 1em;\n  margin-left: 0;\n  margin-right: 0;\n  font-weight: bold;\n`;\n\nconst PostInfo = styled.div`\n  background: #495464;\n  color: #f4f4f2;\n  margin-bottom: 10px;\n`;\nconst PostDate = styled.div`\n  margin: 0 20px;\n`;\n\nconst LinkStyle = {\n  textDecoration: \"none\",\n};\nconst SmallPostWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n`;\nconst SmallPostTitle = styled(Link)`\n  text-decoration: none;\n  line-height: 1.5em;\n  color: #495464;\n  display: block;\n  font-size: 1em;\n  margin: 0.5em;\n  box-sizing: border-box;\n  font-weight: bold;\n  textdecoration: \"none\";\n`;\nconst DeleteButton = styled.div`\n  min-width: 5%;\n  font-size: 1em;\n  background-color: #f38181;\n  border-radius: 10px;\n  padding: 0.5em;\n  color: white;\n  cursor: pointer;\n`;\n\nexport function SmallPostInfoCard({ post, handleDeletePost }) {\n  const { user } = useContext(AuthContext);\n  return (\n    <PostContainer key={post.id}>\n      <SmallPostWrapper>\n        <SmallPostTitle to={`/post/${post.id}`}>{post.title}</SmallPostTitle>\n        {user && user.id === post.userId && (\n          <DeleteButton onClick={() => handleDeletePost(post.id)}>\n            刪除\n          </DeleteButton>\n        )}\n      </SmallPostWrapper>\n    </PostContainer>\n  );\n}\n\nexport function PostInfoCard({ post }) {\n  return (\n    <PostContainer key={post.id}>\n      <Link to={`/post/${post.id}`} style={LinkStyle}>\n        <PostTitle>{post.title}</PostTitle>\n        <PostInfo>\n          <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n        </PostInfo>\n      </Link>\n    </PostContainer>\n  );\n}\n","import styled from \"styled-components\";\nimport React, { useContext } from \"react\";\nimport { PreviewContext } from \"../../utils/contexts\";\nimport FadeIn from \"react-fade-in\";\n\nconst PostContainer = styled.div`\n  margin-top: 256px;\n  width: 645px;\n  margin-bottom: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  color: #495464;\n  opacity: 100%;\n  background-color: white;\n  min-height: 300px;\n  overflow: scroll;\n`;\nconst PostTitle = styled.div`\n  text-decoration: none;\n  line-height: 1.8em;\n  color: #495464;\n  display: block;\n  font-size: 1.5em;\n  margin-top: 1em;\n  margin-bottom: 1em;\n  margin-left: 0;\n  margin-right: 0;\n  font-weight: bold;\n`;\n\nconst PostInfo = styled.div`\n  background: #495464;\n  color: #f4f4f2;\n  margin-bottom: 10px;\n`;\nconst PostDate = styled.a`\n  margin: 0 20px;\n`;\nconst ArticleContent = styled.div`\n  line-height: 2em;\n`;\n\nexport default function Preview() {\n  const { newPostTitle, newPostBody } = useContext(PreviewContext);\n  const time = new Date().toLocaleString();\n\n  return (\n    <FadeIn>\n      <PostContainer>\n        <PostTitle>{newPostTitle}</PostTitle>\n        <PostInfo>\n          <PostDate>{time}</PostDate>\n        </PostInfo>\n        <ArticleContent>{newPostBody}</ArticleContent>\n      </PostContainer>\n    </FadeIn>\n  );\n}\n","import { getAuthToken } from \"./auth\";\n\nconst BASE_URL = \"https://student-json-api.lidemy.me\";\n\n// GET 系列\nexport const getPosts = (num) => {\n  if (num) {\n    return fetch(\n      `${BASE_URL}/posts?_sort=createdAt&_order=desc&_limit=${num}`\n    ).then((res) => res.json());\n  }\n  return fetch(`${BASE_URL}/posts?_sort=createdAt&_order=desc`).then((res) =>\n    res.json()\n  );\n};\n\nexport const getSinglePost = async (id) => {\n  const fetchAPI = await fetch(`${BASE_URL}/posts?id=${id}`);\n  const jsonData = await fetchAPI.json();\n  return jsonData;\n};\n\nexport const getMe = () => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  }).then((res) => res.json());\n};\n\n//  POST 系列\nexport const login = (username, password) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const addNewPost = (title, body) => {\n  const token = getAuthToken();\n  return fetch(`${BASE_URL}/posts`, {\n    method: \"POST\",\n    headers: {\n      authorization: `Bearer ${token}`,\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      title,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\n// DELETE 系列\n\nexport const deletePost = (id) => {\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: \"DELETE\",\n  }).then((res) => res.json());\n};\n\n// 註冊功能\n\nexport const register = (nickname, username, password) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password,\n    }),\n  }).then((res) => res.json());\n};\n\n// 留言板\n\nexport const addNewComment = (nickname, body) => {\n  return fetch(`${BASE_URL}/comments`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      nickname,\n      body,\n    }),\n  }).then((res) => res.json());\n};\n\nexport const getComments = () => {\n  return fetch(`${BASE_URL}/comments?_sort=createdAt&_order=desc`).then((res) =>\n    res.json()\n  );\n};\n","import styled from \"styled-components\";\nimport { Loading, PostInfoCard } from \"../../components\";\nimport { getPosts } from \"../../utils/WebAPI\";\nimport { useContext, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FadeIn from \"react-fade-in\";\nimport { LoadingContext } from \"../../utils/contexts\";\n\nconst Root = styled.div`\n  position: relative;\n  min-height: 100vh;\n  margin: auto;\n  border-radius: 5px;\n  padding: 10px 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nPostInfoCard.propTypes = {\n  post: PropTypes.object,\n};\n\nexport default function HomePage() {\n  const [posts, setPosts] = useState([]);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPosts(5)\n      .then((posts) => {\n        setPosts(posts);\n      })\n      .then(() => {\n        setIsLoading(false);\n      });\n  }, [setIsLoading]);\n\n  return (\n    <Root>\n      <FadeIn>\n        {isLoading && <Loading />}\n        {posts.map((post) => (\n          <PostInfoCard post={post} key={post.id} />\n        ))}\n      </FadeIn>\n    </Root>\n  );\n}\n","import { useContext, useState } from \"react\";\nimport FadeIn from \"react-fade-in\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { setAuthToken } from \"../../utils/auth\";\nimport { AuthContext } from \"../../utils/contexts\";\nimport { getMe, login } from \"../../utils/WebAPI\";\n\nconst LoginContainer = styled.div`\n  position: relative;\n  min-width: 645px;\n  margin-bottom: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  color: #495464;\n  display: flex;\n  justify-content: center;\n`;\nconst LoginForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n`;\nconst Input = styled.div`\n  align-self: center;\n  font-size: 1em;\n  margin: 1em;\n  border: 2px solid#ffffff;\n  :active {\n    outline: 0;\n  }\n`;\nconst SubmitButton = styled.button`\n  width: 50%;\n  font-size: 1em;\n  margin: 1em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\nconst BTNGroup = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-item: center;\n`;\nconst ToRegister = styled(Link)`\n  width: 50%;\n  font-size: 1em;\n  margin: 1em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  text-align: center;\n  text-decoration: none;\n  color: black;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\n\nconst ErrorMsg = styled.a`\n  font-size: 1em;\n  color: red;\n  align-self: center;\n`;\n\nexport default function Login() {\n  const { setUser } = useContext(AuthContext);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState();\n  const history = useHistory();\n  const handleSubmit = (e) => {\n    setErrorMsg(null);\n    login(username, password).then((data) => {\n      if (data.ok === 0) {\n        return setErrorMsg(data.message);\n      }\n      setAuthToken(data.token);\n      getMe().then((res) => {\n        if (res.ok !== 1) {\n          setAuthToken(null);\n          return setErrorMsg(res.toString());\n        }\n        setUser(res.data);\n        history.push(\"/\");\n      });\n    });\n  };\n  return (\n    <FadeIn>\n      <LoginContainer>\n        <LoginForm onSubmit={handleSubmit}>\n          <Input>\n            帳號：\n            <input\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </Input>\n          <Input>\n            密碼：\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </Input>\n          {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\n          <BTNGroup>\n            <ToRegister to=\"/register\">註冊</ToRegister>\n            <SubmitButton type=\"submit\">登入</SubmitButton>\n          </BTNGroup>\n        </LoginForm>\n      </LoginContainer>\n    </FadeIn>\n  );\n}\n","import styled from \"styled-components\";\nimport { useParams } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport { getSinglePost } from \"../../utils/WebAPI\";\nimport FadeIn from \"react-fade-in\";\n\nconst Root = styled.div`\n  position: relative;\n  flex: 1;\n  min-width: 645px;\n  max-width: 700px;\n  margin: auto;\n  border-radius: 5px;\n  padding: 10px 10px;\n`;\n\nconst ArticleContent = styled.div`\n  line-height: 2em;\n`;\n\nconst PostContainer = styled.div`\n  position: relative;\n  min-width: 645px;\n  margin-bottom: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  color: #495464;\n`;\nconst PostTitle = styled.div`\n  text-decoration: none;\n  line-height: 1.8em;\n  color: #495464;\n  display: block;\n  font-size: 1.5em;\n  margin-top: 1em;\n  margin-bottom: 1em;\n  margin-left: 0;\n  margin-right: 0;\n  font-weight: bold;\n`;\n\nconst PostInfo = styled.div`\n  background: #495464;\n  color: #f4f4f2;\n  margin-bottom: 10px;\n`;\nconst PostDate = styled.a`\n  margin: 0 20px;\n`;\nconst PostClassify = styled.a`\n  margin: 0 20px;\n`;\n\nexport default function Post() {\n  const [post, setPost] = useState([]);\n  const { id } = useParams();\n\n  useEffect(() => {\n    async function runGetSinglePost() {\n      const data = await getSinglePost(id);\n      setPost(data);\n    }\n    runGetSinglePost();\n  }, [id]);\n\n  return (\n    <Root>\n      <FadeIn>\n        {post.map((post) => (\n          <PostContainer key={id}>\n            <PostTitle>{post && post.title}</PostTitle>\n            <PostInfo>\n              <PostDate>\n                {post && new Date(post.createdAt).toLocaleString()}\n              </PostDate>\n              <PostClassify></PostClassify>\n            </PostInfo>\n            <ArticleContent>{post && post.body}</ArticleContent>\n          </PostContainer>\n        ))}\n      </FadeIn>\n    </Root>\n  );\n}\n","import { useContext, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { getAuthToken } from \"../../utils/auth\";\nimport { LoadingContext, PreviewContext } from \"../../utils/contexts\";\nimport { addNewPost } from \"../../utils/WebAPI\";\nimport { Loading, Preview } from \"../../components\";\nimport FadeIn from \"react-fade-in\";\n\nconst Root = styled.div`\n  position: relative;\n  flex: 1;\n  min-width: 645px;\n  max-width: 700px;\n  margin: auto;\n  border-radius: 5px;\n  padding: 10px 10px;\n`;\n\nconst PostForm = styled.form`\n  box-sizing: border-box;\n  position: relative;\n  min-width: 645px;\n  margin-bottom: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 2em 2em;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n`;\nconst Title = styled.div`\n  align-self: center;\n  color: #495464;\n  font-size: 1.5em;\n`;\n\nconst ErrorMsg = styled.div`\n  z-index: 99;\n  position: fixed;\n  background-color: #e8e8e8;\n  top: -128px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  color: red;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  font-size: 1.5em;\n  line-height: 2em;\n`;\n\nconst NewPostTitle = styled.input`\n  width: 100%;\n  margin-top: 3em;\n  height: 2em;\n`;\nconst NewPostBody = styled.textarea`\n  width: 100%;\n  margin-top: 3em;\n`;\n\nconst NewPostBTNs = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\nconst NewPostSubmit = styled.button`\n  width: 20%;\n  font-size: 1em;\n  margin: 1em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\nconst NewPostPreview = styled.div`\n  width: 20%;\n  font-size: 1em;\n  margin: 1em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  text-align: center;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\nconst PreviewBackground = styled.div`\n  z-index: 99;\n  position: fixed;\n  background-color: rgba(0, 0, 0, 0.5);\n  top: -128px;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  color: red;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n`;\n\nfunction sleep(time) {\n  return new Promise((resolve) => setTimeout(resolve, time));\n}\n\nexport default function NewPost() {\n  const [newPostTitle, setNewPostTitle] = useState(\"\");\n  const [newPostBody, setNewPostBody] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState();\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n  const history = useHistory();\n\n  const handleTitleChange = (e) => {\n    setNewPostTitle(e.target.value);\n  };\n\n  const handleBodyChange = (e) => {\n    setNewPostBody(e.target.value);\n  };\n\n  const handleFocus = () => {\n    setErrorMsg(null);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    addNewPost(newPostTitle, newPostBody)\n      .then((res) => {\n        setIsLoading(false);\n        if (res.ok === 0) return setErrorMsg(res.message);\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        setErrorMsg(err.message);\n      });\n  };\n\n  // preview function\n  const [previewClick, setPreviewClick] = useState(false);\n  const handlePreviewClick = () => {\n    setPreviewClick(true);\n  };\n  const handlePreviewCancel = () => {\n    setPreviewClick(false);\n  };\n\n  // 登出狀態進到此頁面\n  const token = getAuthToken();\n  useEffect(() => {\n    if (!token) {\n      sleep(3000).then(() => {\n        history.push(\"/\");\n      });\n    }\n  });\n\n  if (!token) {\n    return (\n      <ErrorMsg>\n        <div>請登入後再發新文章</div>\n        <div>正在將您導向首頁</div>\n      </ErrorMsg>\n    );\n  }\n\n  return (\n    <Root>\n      <FadeIn>\n        {isLoading && <Loading />}\n        <PreviewContext.Provider value={{ newPostTitle, newPostBody }}>\n          {previewClick && (\n            <PreviewBackground onClick={handlePreviewCancel}>\n              <Preview />\n            </PreviewBackground>\n          )}\n        </PreviewContext.Provider>\n        <PostForm onSubmit={handleSubmit}>\n          <Title>新增文章</Title>\n          <NewPostTitle\n            value={newPostTitle}\n            placeholder={errorMsg ? errorMsg : \"請輸入標題\"}\n            onChange={handleTitleChange}\n            onFocus={handleFocus}\n          />\n          <NewPostBody\n            value={newPostBody}\n            rows={30}\n            placeholder={errorMsg ? errorMsg : \"請輸入內文\"}\n            onChange={handleBodyChange}\n            onFocus={handleFocus}\n          ></NewPostBody>\n          <NewPostBTNs>\n            <NewPostSubmit>{isLoading ? \"發布中\" : \"送出\"}</NewPostSubmit>\n            <NewPostPreview onClick={handlePreviewClick}>預覽</NewPostPreview>\n          </NewPostBTNs>\n        </PostForm>\n      </FadeIn>\n    </Root>\n  );\n}\n","import styled from \"styled-components\";\nimport { Loading, SmallPostInfoCard } from \"../../components\";\nimport { deletePost, getPosts } from \"../../utils/WebAPI\";\nimport { useContext, useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport FadeIn from \"react-fade-in\";\nimport { LoadingContext } from \"../../utils/contexts\";\n\nconst Root = styled.div`\n  position: relative;\n  min-height: 100vh;\n  margin: auto;\n  border-radius: 5px;\n  padding: 10px 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nSmallPostInfoCard.propTypes = {\n  post: PropTypes.object,\n};\n\nexport default function Posts() {\n  const [posts, setPosts] = useState([]);\n  const { isLoading, setIsLoading } = useContext(LoadingContext);\n\n  useEffect(() => {\n    setIsLoading(true);\n    getPosts()\n      .then((posts) => setPosts(posts))\n      .then(() => {\n        setIsLoading(false);\n      });\n  }, [setIsLoading]);\n\n  const handleDeletePost = (id) => {\n    deletePost(id)\n      .then(() => {\n        getPosts().then((posts) => setPosts(posts));\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .then(setIsLoading(false));\n  };\n\n  return (\n    <Root>\n      <FadeIn>\n        {isLoading && <Loading />}\n        {posts.map((post) => (\n          <SmallPostInfoCard\n            post={post}\n            key={post.id}\n            handleDeletePost={handleDeletePost}\n          ></SmallPostInfoCard>\n        ))}\n      </FadeIn>\n    </Root>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport FadeIn from \"react-fade-in\";\nimport styled from \"styled-components\";\nimport { Loading } from \"../../components\";\nimport { addNewComment, getComments } from \"../../utils/WebAPI\";\n\nconst Root = styled.div`\n  margin: 2% auto;\n  max-width: 650px;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n`;\nconst BoardForm = styled.form`\n  position: relative;\n  max-width: 645px;\n  margin: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  padding-top: 2em;\n  color: #495464;\n  transition-duration: 0.5s;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\nconst BoardListContainer = styled.div``;\nconst BoardNickname = styled.input`\n  width: 100%;\n  border: 1px solid #495464;\n  box-sizing: border-box;\n  border-radius: 5px;\n  background: #e8e8e8;\n  margin: 1em;\n  height: 2em;\n  :focus {\n    outline-style: none;\n    background: white;\n  }\n`;\nconst BoardTextarea = styled.textarea`\n  width: 100%;\n  min-height: 10em;\n  padding: 10px;\n  border: 1px solid #495464;\n  box-sizing: border-box;\n  border-radius: 5px;\n  background-color: #e8e8e8;\n  margin: 1em;\n  :focus {\n    outline-style: none;\n    background: white;\n  }\n`;\nconst BoardSubmitButton = styled.button`\n  font-size: 1em;\n  margin-top: 0.5em;\n  width: 15em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\nconst Comment = styled.div`\n  position: relative;\n  max-width: 645px;\n  margin: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  color: #495464;\n  transition-duration: 0.5s;\n  display: flex;\n  :hover {\n    background: #e8e8e8;\n    color: #000000;\n    transform: scale(1.2);\n  }\n`;\n\nconst CommentBody = styled.div`\n  margin-left: 20px;\n  overflow-wrap: anywhere;\n  max-width: 500px;\n`;\nconst CommentAvatar = styled.div`\n  min-width: 50px;\n  height: 50px;\n  width: 50px;\n  border-radius: 50%;\n  background: #e4f0fb;\n`;\n\nconst CommentUserInfo = styled.div`\n  display: flex;\n  text-align: left;\n  max-width: 250px;\n  color: black;\n  font-weight: bold;\n  overflow: hidden;\n  align-items: center;\n`;\n\nconst CommentInfo = styled.div`\n  display: flex;\n`;\n\nconst CommentDate = styled.span`\n  color: #a0a0a0;\n  margin-left: 20px;\n  align-items: center;\n  display: flex;\n`;\nconst CommentContent = styled.p`\n  margin-top: 20px;\n  max-width: 100%;\n  white-space: break-spaces;\n`;\n\nconst ErrorMessage = styled.div`\n  margin: 2em;\n  color: red;\n`;\n\nfunction Comments({ comment, handleCommentDelete }) {\n  return (\n    <FadeIn>\n      <Comment>\n        <CommentAvatar />\n        <CommentBody>\n          <CommentInfo>\n            <CommentUserInfo>{comment.nickname}</CommentUserInfo>\n            <CommentDate>\n              {new Date(comment.createdAt).toLocaleString()}\n            </CommentDate>\n          </CommentInfo>\n          <CommentContent>{comment.body}</CommentContent>\n        </CommentBody>\n      </Comment>\n    </FadeIn>\n  );\n}\n\nexport default function Board() {\n  const [comments, setComments] = useState(null);\n  const [CommentApiErr, setCommentApiErr] = useState(null);\n  const [comment, setComment] = useState(\"\");\n  const [nickname, setNickname] = useState(\"\");\n  const [createCommentErr, setCreateCommentErr] = useState(null);\n  // avoid the unlimited submit\n  const [isLoading, setIsLoading] = useState(false);\n\n  // comment value\n  const handleTextAreaChange = (e) => {\n    setComment(e.target.value);\n  };\n\n  // username value\n  const handleUsernameChange = (e) => {\n    setNickname(e.target.value);\n  };\n\n  const handleInputFocus = (e) => {\n    setCreateCommentErr(null);\n  };\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    addNewComment(nickname, comment)\n      .then((data) => {\n        setIsLoading(false);\n        if (data.ok === 0) {\n          setCreateCommentErr(data.message);\n        }\n        setComment(\"\");\n        setNickname(\"\");\n        getComments();\n      })\n      .catch((err) => {\n        setIsLoading(false);\n      });\n  };\n\n  useEffect(() => {\n    let isSubscribe = true;\n    getComments()\n      .then((data) => {\n        if (isSubscribe) {\n          setComments(data);\n        }\n      })\n      .catch((err) => {\n        if (isSubscribe) {\n          setCommentApiErr(err.message);\n        }\n      });\n    return () => (isSubscribe = false);\n  }, []);\n  return (\n    <Root>\n      <FadeIn>\n        {isLoading && <Loading />}\n        <BoardForm onSubmit={handleFormSubmit}>\n          您的暱稱：\n          <BoardNickname\n            value={nickname}\n            onChange={handleUsernameChange}\n            onFocus={handleInputFocus}\n          />\n          您的留言：\n          <BoardTextarea\n            value={comment}\n            onChange={handleTextAreaChange}\n            onFocus={handleInputFocus}\n            rows=\"20\"\n          />\n          {createCommentErr && (\n            <ErrorMessage>Your username or comment is empty!</ErrorMessage>\n          )}\n          <BoardSubmitButton>發送留言</BoardSubmitButton>\n        </BoardForm>\n        {CommentApiErr && (\n          <ErrorMessage>\n            Something went wrong.\n            <br />\n            {CommentApiErr.toString()}\n          </ErrorMessage>\n        )}\n        {comments && comments.length === 0 && (\n          <h1>目前沒有留言，快來新增吧！</h1>\n        )}\n        <BoardListContainer>\n          {comments &&\n            comments.map((comment) => (\n              <Comments key={comment.id} comment={comment}></Comments>\n            ))}\n        </BoardListContainer>\n      </FadeIn>\n    </Root>\n  );\n}\n","import { useContext, useState } from \"react\";\nimport FadeIn from \"react-fade-in\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Loading } from \"../../components\";\nimport { setAuthToken } from \"../../utils/auth\";\nimport { AuthContext } from \"../../utils/contexts\";\nimport { getMe, register } from \"../../utils/WebAPI\";\n\nconst RegisterContainer = styled.div`\n  position: relative;\n  min-width: 645px;\n  margin-bottom: 20px;\n  border: #bbbfca 1px solid;\n  border-radius: 5px;\n  box-shadow: 1.8px 2.4px 5px 0 rgba(0, 0, 0, 0.3);\n  padding: 10px 30px;\n  color: #495464;\n  display: flex;\n  justify-content: center;\n`;\nconst RegisterForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n`;\nconst Input = styled.div`\n  align-self: center;\n  font-size: 1em;\n  margin: 1em;\n  border: 2px solid#ffffff;\n  :active {\n    outline: 0;\n  }\n`;\nconst SubmitButton = styled.button`\n  font-size: 1em;\n  margin: 1em;\n  background-color: #e8e8e8;\n  border: 2px solid #ffffff;\n  border-radius: 10px;\n  padding: 0.5em;\n  transition: all 0.4s;\n  box-sizing: border-box;\n  :hover {\n    background-color: #ffffff;\n    border: 2px solid #e8e8e8;\n    cursor: pointer;\n  }\n  :focus {\n    outline: 0;\n  }\n`;\n\nconst ErrorMsg = styled.a`\n  font-size: 1em;\n  color: red;\n  align-self: center;\n`;\n\nexport default function Login() {\n  const { setUser } = useContext(AuthContext);\n  const [nickname, setNickname] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  const history = useHistory();\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setErrorMsg(null);\n    register(nickname, username, password).then((data) => {\n      if (data.ok === 0) {\n        setIsLoading(false);\n        return setErrorMsg(data.message);\n      }\n      setAuthToken(data.token);\n      getMe().then((res) => {\n        setIsLoading(false);\n        if (res.ok !== 1) {\n          setAuthToken(null);\n          return setErrorMsg(res.toString());\n        }\n        setUser(res.data);\n        history.push(\"/\");\n      });\n    });\n  };\n  return (\n    <FadeIn>\n      {isLoading && <Loading />}\n      <RegisterContainer>\n        <RegisterForm onSubmit={handleSubmit}>\n          <Input>\n            暱稱：\n            <input\n              value={nickname}\n              onChange={(e) => setNickname(e.target.value)}\n            />\n          </Input>\n          <Input>\n            帳號：\n            <input\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n          </Input>\n          <Input>\n            密碼：\n            <input\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </Input>\n          {errorMsg && <ErrorMsg>{errorMsg}</ErrorMsg>}\n          <SubmitButton type=\"submit\">註冊</SubmitButton>\n        </RegisterForm>\n      </RegisterContainer>\n    </FadeIn>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport {\n  HomePage,\n  Login,\n  Post,\n  NewPost,\n  Posts,\n  Board,\n  Register,\n} from \"../pages\";\nimport { Loading, Navbar } from \"../components\";\nimport { AuthContext, LoadingContext } from \"../utils/contexts\";\nimport { getMe } from \"../utils/WebAPI\";\nimport { getAuthToken } from \"../utils/auth\";\n\nconst Root = styled.div`\n  padding-top: 128px;\n`;\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    if (getAuthToken()) {\n      getMe().then((res) => {\n        if (res.ok) {\n          setUser(res.data);\n          setIsLoading(false);\n        }\n      });\n    } else {\n      setIsLoading(false);\n    }\n  }, []);\n  return (\n    <AuthContext.Provider value={{ user, setUser }}>\n      <Root>\n        <Router>\n          <Navbar />\n          <LoadingContext.Provider value={{ isLoading, setIsLoading }}>\n            {isLoading && <Loading />}\n            <Switch>\n              <Route exact path=\"/\">\n                <HomePage />\n              </Route>\n              <Route exact path=\"/posts\">\n                <Posts />\n              </Route>\n              <Route exact path=\"/login\">\n                <Login />\n              </Route>\n              <Route exact path=\"/newpost\">\n                <NewPost />\n              </Route>\n              <Route exact path=\"/post/:id\">\n                <Post />\n              </Route>\n              <Route exact path=\"/board\">\n                <Board />\n              </Route>\n              <Route exact path=\"/register\">\n                <Register />\n              </Route>\n            </Switch>\n          </LoadingContext.Provider>\n        </Router>\n      </Root>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}